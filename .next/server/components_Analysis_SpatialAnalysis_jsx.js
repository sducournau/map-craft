"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "components_Analysis_SpatialAnalysis_jsx";
exports.ids = ["components_Analysis_SpatialAnalysis_jsx"];
exports.modules = {

/***/ "__barrel_optimize__?names=FiBarChart2,FiCpu,FiMap,FiPlus,FiSearch,FiX!=!./node_modules/react-icons/fi/index.esm.js":
/*!**************************************************************************************************************************!*\
  !*** __barrel_optimize__?names=FiBarChart2,FiCpu,FiMap,FiPlus,FiSearch,FiX!=!./node_modules/react-icons/fi/index.esm.js ***!
  \**************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony import */ var D_Users_Simon_OneDrive_Documents_GitHub_map_craft_node_modules_react_icons_fi_index_esm_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/react-icons/fi/index.esm.js */ "./node_modules/react-icons/fi/index.esm.js");
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in D_Users_Simon_OneDrive_Documents_GitHub_map_craft_node_modules_react_icons_fi_index_esm_js__WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== "default") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => D_Users_Simon_OneDrive_Documents_GitHub_map_craft_node_modules_react_icons_fi_index_esm_js__WEBPACK_IMPORTED_MODULE_0__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);


/***/ }),

/***/ "./components/Analysis/SpatialAnalysis.jsx":
/*!*************************************************!*\
  !*** ./components/Analysis/SpatialAnalysis.jsx ***!
  \*************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _barrel_optimize_names_FiBarChart2_FiCpu_FiMap_FiPlus_FiSearch_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! __barrel_optimize__?names=FiBarChart2,FiCpu,FiMap,FiPlus,FiSearch,FiX!=!react-icons/fi */ \"__barrel_optimize__?names=FiBarChart2,FiCpu,FiMap,FiPlus,FiSearch,FiX!=!./node_modules/react-icons/fi/index.esm.js\");\n/* harmony import */ var _hooks_useLayerManager_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../hooks/useLayerManager.js */ \"./hooks/useLayerManager.js\");\n/* harmony import */ var _turf_turf__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @turf/turf */ \"@turf/turf\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_hooks_useLayerManager_js__WEBPACK_IMPORTED_MODULE_2__, _turf_turf__WEBPACK_IMPORTED_MODULE_3__]);\n([_hooks_useLayerManager_js__WEBPACK_IMPORTED_MODULE_2__, _turf_turf__WEBPACK_IMPORTED_MODULE_3__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\n\nconst SpatialAnalysis = ({ onClose })=>{\n    const { layers, addLayer } = (0,_hooks_useLayerManager_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])();\n    const [selectedAnalysis, setSelectedAnalysis] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"buffer\");\n    const [sourceLayer, setSourceLayer] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [targetLayer, setTargetLayer] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [bufferDistance, setBufferDistance] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(1);\n    const [bufferUnit, setBufferUnit] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"kilometers\");\n    const [resultName, setResultName] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"R\\xe9sultat d'analyse\");\n    const [status, setStatus] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    // Options d'analyse spatiale\n    const analyses = [\n        {\n            id: \"buffer\",\n            name: \"Zone tampon\",\n            icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiBarChart2_FiCpu_FiMap_FiPlus_FiSearch_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_4__.FiPlus, {}, void 0, false, {\n                fileName: \"D:\\\\Users\\\\Simon\\\\OneDrive\\\\Documents\\\\GitHub\\\\map-craft\\\\components\\\\Analysis\\\\SpatialAnalysis.jsx\",\n                lineNumber: 18,\n                columnNumber: 48\n            }, undefined)\n        },\n        {\n            id: \"centroid\",\n            name: \"Centro\\xefdes\",\n            icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiBarChart2_FiCpu_FiMap_FiPlus_FiSearch_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_4__.FiMap, {}, void 0, false, {\n                fileName: \"D:\\\\Users\\\\Simon\\\\OneDrive\\\\Documents\\\\GitHub\\\\map-craft\\\\components\\\\Analysis\\\\SpatialAnalysis.jsx\",\n                lineNumber: 19,\n                columnNumber: 49\n            }, undefined)\n        },\n        {\n            id: \"intersection\",\n            name: \"Intersection\",\n            icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiBarChart2_FiCpu_FiMap_FiPlus_FiSearch_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_4__.FiSearch, {}, void 0, false, {\n                fileName: \"D:\\\\Users\\\\Simon\\\\OneDrive\\\\Documents\\\\GitHub\\\\map-craft\\\\components\\\\Analysis\\\\SpatialAnalysis.jsx\",\n                lineNumber: 20,\n                columnNumber: 55\n            }, undefined)\n        },\n        {\n            id: \"union\",\n            name: \"Union\",\n            icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiBarChart2_FiCpu_FiMap_FiPlus_FiSearch_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_4__.FiPlus, {}, void 0, false, {\n                fileName: \"D:\\\\Users\\\\Simon\\\\OneDrive\\\\Documents\\\\GitHub\\\\map-craft\\\\components\\\\Analysis\\\\SpatialAnalysis.jsx\",\n                lineNumber: 21,\n                columnNumber: 41\n            }, undefined)\n        },\n        {\n            id: \"difference\",\n            name: \"Diff\\xe9rence\",\n            icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiBarChart2_FiCpu_FiMap_FiPlus_FiSearch_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_4__.FiSearch, {}, void 0, false, {\n                fileName: \"D:\\\\Users\\\\Simon\\\\OneDrive\\\\Documents\\\\GitHub\\\\map-craft\\\\components\\\\Analysis\\\\SpatialAnalysis.jsx\",\n                lineNumber: 22,\n                columnNumber: 51\n            }, undefined)\n        },\n        {\n            id: \"voronoi\",\n            name: \"Diagramme de Vorono\\xef\",\n            icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiBarChart2_FiCpu_FiMap_FiPlus_FiSearch_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_4__.FiMap, {}, void 0, false, {\n                fileName: \"D:\\\\Users\\\\Simon\\\\OneDrive\\\\Documents\\\\GitHub\\\\map-craft\\\\components\\\\Analysis\\\\SpatialAnalysis.jsx\",\n                lineNumber: 23,\n                columnNumber: 58\n            }, undefined)\n        }\n    ];\n    // Exécuter l'analyse spatiale\n    const runAnalysis = ()=>{\n        try {\n            setStatus({\n                type: \"loading\",\n                message: \"Analyse en cours...\"\n            });\n            // Vérifier les paramètres\n            if (!sourceLayer) {\n                throw new Error(\"Veuillez s\\xe9lectionner une couche source\");\n            }\n            // Trouver la couche source\n            const source = layers.find((l)=>l.id === sourceLayer);\n            if (!source || !source.data) {\n                throw new Error(\"Couche source non trouv\\xe9e ou invalide\");\n            }\n            let result;\n            // Effectuer l'analyse selon le type sélectionné\n            switch(selectedAnalysis){\n                case \"buffer\":\n                    result = {\n                        type: \"FeatureCollection\",\n                        features: source.data.features.map((feature)=>_turf_turf__WEBPACK_IMPORTED_MODULE_3__.buffer(feature, bufferDistance, {\n                                units: bufferUnit\n                            }))\n                    };\n                    break;\n                case \"centroid\":\n                    result = {\n                        type: \"FeatureCollection\",\n                        features: source.data.features.map((feature)=>{\n                            const centroid = _turf_turf__WEBPACK_IMPORTED_MODULE_3__.centroid(feature);\n                            centroid.properties = {\n                                ...feature.properties\n                            };\n                            return centroid;\n                        })\n                    };\n                    break;\n                case \"intersection\":\n                    if (!targetLayer) {\n                        throw new Error(\"Veuillez s\\xe9lectionner une couche cible\");\n                    }\n                    const target = layers.find((l)=>l.id === targetLayer);\n                    if (!target || !target.data) {\n                        throw new Error(\"Couche cible non trouv\\xe9e ou invalide\");\n                    }\n                    // Calculer l'intersection entre les deux couches\n                    const sourceFeatures = source.data.features;\n                    const targetFeatures = target.data.features;\n                    const intersectionFeatures = [];\n                    for (const sourceFeature of sourceFeatures){\n                        for (const targetFeature of targetFeatures){\n                            try {\n                                const intersection = _turf_turf__WEBPACK_IMPORTED_MODULE_3__.intersect(sourceFeature, targetFeature);\n                                if (intersection) {\n                                    intersection.properties = {\n                                        ...sourceFeature.properties,\n                                        source_name: source.title || source.id,\n                                        target_name: target.title || target.id\n                                    };\n                                    intersectionFeatures.push(intersection);\n                                }\n                            } catch (err) {\n                                console.warn(\"Erreur lors du calcul d'intersection:\", err);\n                            }\n                        }\n                    }\n                    result = {\n                        type: \"FeatureCollection\",\n                        features: intersectionFeatures\n                    };\n                    break;\n                case \"union\":\n                    if (!targetLayer) {\n                        throw new Error(\"Veuillez s\\xe9lectionner une couche cible\");\n                    }\n                    const targetForUnion = layers.find((l)=>l.id === targetLayer);\n                    if (!targetForUnion || !targetForUnion.data) {\n                        throw new Error(\"Couche cible non trouv\\xe9e ou invalide\");\n                    }\n                    // Union des deux couches\n                    const combined = {\n                        type: \"FeatureCollection\",\n                        features: [\n                            ...source.data.features,\n                            ...targetForUnion.data.features\n                        ]\n                    };\n                    result = _turf_turf__WEBPACK_IMPORTED_MODULE_3__.union(...combined.features);\n                    // Convertir en FeatureCollection si nécessaire\n                    if (result.type !== \"FeatureCollection\") {\n                        result = {\n                            type: \"FeatureCollection\",\n                            features: [\n                                result\n                            ]\n                        };\n                    }\n                    break;\n                case \"difference\":\n                    if (!targetLayer) {\n                        throw new Error(\"Veuillez s\\xe9lectionner une couche cible\");\n                    }\n                    const targetForDiff = layers.find((l)=>l.id === targetLayer);\n                    if (!targetForDiff || !targetForDiff.data) {\n                        throw new Error(\"Couche cible non trouv\\xe9e ou invalide\");\n                    }\n                    // Calculer la différence entre source et cible\n                    const diffFeatures = [];\n                    for (const sourceFeature of source.data.features){\n                        let currentFeature = sourceFeature;\n                        for (const targetFeature of targetForDiff.data.features){\n                            try {\n                                const diff = _turf_turf__WEBPACK_IMPORTED_MODULE_3__.difference(currentFeature, targetFeature);\n                                if (diff) {\n                                    currentFeature = diff;\n                                }\n                            } catch (err) {\n                                console.warn(\"Erreur lors du calcul de diff\\xe9rence:\", err);\n                            }\n                        }\n                        if (currentFeature) {\n                            diffFeatures.push(currentFeature);\n                        }\n                    }\n                    result = {\n                        type: \"FeatureCollection\",\n                        features: diffFeatures\n                    };\n                    break;\n                case \"voronoi\":\n                    // Extraire les points (ou centroïdes pour les polygones)\n                    const points = source.data.features.map((feature)=>{\n                        if (feature.geometry.type === \"Point\") {\n                            return feature;\n                        } else {\n                            return _turf_turf__WEBPACK_IMPORTED_MODULE_3__.centroid(feature);\n                        }\n                    });\n                    const pointsCollection = {\n                        type: \"FeatureCollection\",\n                        features: points\n                    };\n                    // Calculer les limites (bbox)\n                    const bbox = _turf_turf__WEBPACK_IMPORTED_MODULE_3__.bbox(pointsCollection);\n                    // Créer le diagramme de Voronoï\n                    const voronoiPolygons = _turf_turf__WEBPACK_IMPORTED_MODULE_3__.voronoi(pointsCollection, {\n                        bbox\n                    });\n                    result = voronoiPolygons;\n                    break;\n                default:\n                    throw new Error(`Type d'analyse non pris en charge: ${selectedAnalysis}`);\n            }\n            // Ajouter la couche de résultat\n            if (result && result.features && result.features.length > 0) {\n                const layerType = result.features[0].geometry.type.includes(\"Polygon\") ? \"choropleth\" : result.features[0].geometry.type === \"Point\" ? \"point\" : \"line\";\n                const newLayerId = addLayer({\n                    title: resultName,\n                    type: layerType,\n                    data: result\n                });\n                setStatus({\n                    type: \"success\",\n                    message: `Analyse terminée avec succès. ${result.features.length} entités créées.`,\n                    layerId: newLayerId\n                });\n            } else {\n                setStatus({\n                    type: \"warning\",\n                    message: \"L'analyse n'a produit aucun r\\xe9sultat.\"\n                });\n            }\n        } catch (error) {\n            setStatus({\n                type: \"error\",\n                message: `Erreur lors de l'analyse: ${error.message}`\n            });\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"bg-white dark:bg-slate-800 rounded-lg shadow-xl w-full max-w-lg\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex justify-between items-center p-4 border-b border-slate-200 dark:border-slate-700\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                            className: \"text-lg font-medium flex items-center\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiBarChart2_FiCpu_FiMap_FiPlus_FiSearch_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_4__.FiCpu, {\n                                    className: \"mr-2\"\n                                }, void 0, false, {\n                                    fileName: \"D:\\\\Users\\\\Simon\\\\OneDrive\\\\Documents\\\\GitHub\\\\map-craft\\\\components\\\\Analysis\\\\SpatialAnalysis.jsx\",\n                                    lineNumber: 240,\n                                    columnNumber: 13\n                                }, undefined),\n                                \"Analyse spatiale\"\n                            ]\n                        }, void 0, true, {\n                            fileName: \"D:\\\\Users\\\\Simon\\\\OneDrive\\\\Documents\\\\GitHub\\\\map-craft\\\\components\\\\Analysis\\\\SpatialAnalysis.jsx\",\n                            lineNumber: 239,\n                            columnNumber: 11\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: onClose,\n                            className: \"p-1 rounded-full hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiBarChart2_FiCpu_FiMap_FiPlus_FiSearch_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_4__.FiX, {}, void 0, false, {\n                                fileName: \"D:\\\\Users\\\\Simon\\\\OneDrive\\\\Documents\\\\GitHub\\\\map-craft\\\\components\\\\Analysis\\\\SpatialAnalysis.jsx\",\n                                lineNumber: 247,\n                                columnNumber: 13\n                            }, undefined)\n                        }, void 0, false, {\n                            fileName: \"D:\\\\Users\\\\Simon\\\\OneDrive\\\\Documents\\\\GitHub\\\\map-craft\\\\components\\\\Analysis\\\\SpatialAnalysis.jsx\",\n                            lineNumber: 243,\n                            columnNumber: 11\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"D:\\\\Users\\\\Simon\\\\OneDrive\\\\Documents\\\\GitHub\\\\map-craft\\\\components\\\\Analysis\\\\SpatialAnalysis.jsx\",\n                    lineNumber: 238,\n                    columnNumber: 9\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"p-4\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"mb-4\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                    className: \"block text-sm font-medium mb-2\",\n                                    children: \"Type d'analyse\"\n                                }, void 0, false, {\n                                    fileName: \"D:\\\\Users\\\\Simon\\\\OneDrive\\\\Documents\\\\GitHub\\\\map-craft\\\\components\\\\Analysis\\\\SpatialAnalysis.jsx\",\n                                    lineNumber: 254,\n                                    columnNumber: 13\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"grid grid-cols-3 gap-2\",\n                                    children: analyses.map((analysis)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            className: `p-2 border rounded text-sm ${selectedAnalysis === analysis.id ? \"bg-blue-100 dark:bg-blue-900/30 border-blue-400 dark:border-blue-600\" : \"border-slate-300 dark:border-slate-600 hover:bg-slate-50 dark:hover:bg-slate-700\"}`,\n                                            onClick: ()=>setSelectedAnalysis(analysis.id),\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex flex-col items-center\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"mb-1\",\n                                                        children: analysis.icon\n                                                    }, void 0, false, {\n                                                        fileName: \"D:\\\\Users\\\\Simon\\\\OneDrive\\\\Documents\\\\GitHub\\\\map-craft\\\\components\\\\Analysis\\\\SpatialAnalysis.jsx\",\n                                                        lineNumber: 267,\n                                                        columnNumber: 21\n                                                    }, undefined),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        children: analysis.name\n                                                    }, void 0, false, {\n                                                        fileName: \"D:\\\\Users\\\\Simon\\\\OneDrive\\\\Documents\\\\GitHub\\\\map-craft\\\\components\\\\Analysis\\\\SpatialAnalysis.jsx\",\n                                                        lineNumber: 268,\n                                                        columnNumber: 21\n                                                    }, undefined)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"D:\\\\Users\\\\Simon\\\\OneDrive\\\\Documents\\\\GitHub\\\\map-craft\\\\components\\\\Analysis\\\\SpatialAnalysis.jsx\",\n                                                lineNumber: 266,\n                                                columnNumber: 19\n                                            }, undefined)\n                                        }, analysis.id, false, {\n                                            fileName: \"D:\\\\Users\\\\Simon\\\\OneDrive\\\\Documents\\\\GitHub\\\\map-craft\\\\components\\\\Analysis\\\\SpatialAnalysis.jsx\",\n                                            lineNumber: 257,\n                                            columnNumber: 17\n                                        }, undefined))\n                                }, void 0, false, {\n                                    fileName: \"D:\\\\Users\\\\Simon\\\\OneDrive\\\\Documents\\\\GitHub\\\\map-craft\\\\components\\\\Analysis\\\\SpatialAnalysis.jsx\",\n                                    lineNumber: 255,\n                                    columnNumber: 13\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"D:\\\\Users\\\\Simon\\\\OneDrive\\\\Documents\\\\GitHub\\\\map-craft\\\\components\\\\Analysis\\\\SpatialAnalysis.jsx\",\n                            lineNumber: 253,\n                            columnNumber: 11\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"mb-4\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                    htmlFor: \"sourceLayer\",\n                                    className: \"block text-sm font-medium mb-1\",\n                                    children: \"Couche source\"\n                                }, void 0, false, {\n                                    fileName: \"D:\\\\Users\\\\Simon\\\\OneDrive\\\\Documents\\\\GitHub\\\\map-craft\\\\components\\\\Analysis\\\\SpatialAnalysis.jsx\",\n                                    lineNumber: 277,\n                                    columnNumber: 13\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                                    id: \"sourceLayer\",\n                                    value: sourceLayer,\n                                    onChange: (e)=>setSourceLayer(e.target.value),\n                                    className: \"w-full p-2 border border-slate-300 dark:border-slate-600 rounded bg-white dark:bg-slate-700 text-black dark:text-white\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                            value: \"\",\n                                            children: \"S\\xe9lectionner une couche\"\n                                        }, void 0, false, {\n                                            fileName: \"D:\\\\Users\\\\Simon\\\\OneDrive\\\\Documents\\\\GitHub\\\\map-craft\\\\components\\\\Analysis\\\\SpatialAnalysis.jsx\",\n                                            lineNumber: 286,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        layers.map((layer)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                value: layer.id,\n                                                children: layer.title || layer.id\n                                            }, layer.id, false, {\n                                                fileName: \"D:\\\\Users\\\\Simon\\\\OneDrive\\\\Documents\\\\GitHub\\\\map-craft\\\\components\\\\Analysis\\\\SpatialAnalysis.jsx\",\n                                                lineNumber: 288,\n                                                columnNumber: 17\n                                            }, undefined))\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"D:\\\\Users\\\\Simon\\\\OneDrive\\\\Documents\\\\GitHub\\\\map-craft\\\\components\\\\Analysis\\\\SpatialAnalysis.jsx\",\n                                    lineNumber: 280,\n                                    columnNumber: 13\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"D:\\\\Users\\\\Simon\\\\OneDrive\\\\Documents\\\\GitHub\\\\map-craft\\\\components\\\\Analysis\\\\SpatialAnalysis.jsx\",\n                            lineNumber: 276,\n                            columnNumber: 11\n                        }, undefined),\n                        [\n                            \"intersection\",\n                            \"union\",\n                            \"difference\"\n                        ].includes(selectedAnalysis) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"mb-4\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                    htmlFor: \"targetLayer\",\n                                    className: \"block text-sm font-medium mb-1\",\n                                    children: \"Couche cible\"\n                                }, void 0, false, {\n                                    fileName: \"D:\\\\Users\\\\Simon\\\\OneDrive\\\\Documents\\\\GitHub\\\\map-craft\\\\components\\\\Analysis\\\\SpatialAnalysis.jsx\",\n                                    lineNumber: 298,\n                                    columnNumber: 15\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                                    id: \"targetLayer\",\n                                    value: targetLayer,\n                                    onChange: (e)=>setTargetLayer(e.target.value),\n                                    className: \"w-full p-2 border border-slate-300 dark:border-slate-600 rounded bg-white dark:bg-slate-700 text-black dark:text-white\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                            value: \"\",\n                                            children: \"S\\xe9lectionner une couche\"\n                                        }, void 0, false, {\n                                            fileName: \"D:\\\\Users\\\\Simon\\\\OneDrive\\\\Documents\\\\GitHub\\\\map-craft\\\\components\\\\Analysis\\\\SpatialAnalysis.jsx\",\n                                            lineNumber: 307,\n                                            columnNumber: 17\n                                        }, undefined),\n                                        layers.filter((l)=>l.id !== sourceLayer).map((layer)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                value: layer.id,\n                                                children: layer.title || layer.id\n                                            }, layer.id, false, {\n                                                fileName: \"D:\\\\Users\\\\Simon\\\\OneDrive\\\\Documents\\\\GitHub\\\\map-craft\\\\components\\\\Analysis\\\\SpatialAnalysis.jsx\",\n                                                lineNumber: 309,\n                                                columnNumber: 19\n                                            }, undefined))\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"D:\\\\Users\\\\Simon\\\\OneDrive\\\\Documents\\\\GitHub\\\\map-craft\\\\components\\\\Analysis\\\\SpatialAnalysis.jsx\",\n                                    lineNumber: 301,\n                                    columnNumber: 15\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"D:\\\\Users\\\\Simon\\\\OneDrive\\\\Documents\\\\GitHub\\\\map-craft\\\\components\\\\Analysis\\\\SpatialAnalysis.jsx\",\n                            lineNumber: 297,\n                            columnNumber: 13\n                        }, undefined),\n                        selectedAnalysis === \"buffer\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"mb-4\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                    className: \"block text-sm font-medium mb-1\",\n                                    children: \"Distance de la zone tampon\"\n                                }, void 0, false, {\n                                    fileName: \"D:\\\\Users\\\\Simon\\\\OneDrive\\\\Documents\\\\GitHub\\\\map-craft\\\\components\\\\Analysis\\\\SpatialAnalysis.jsx\",\n                                    lineNumber: 320,\n                                    columnNumber: 15\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex space-x-2\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                            type: \"number\",\n                                            value: bufferDistance,\n                                            onChange: (e)=>setBufferDistance(Number(e.target.value)),\n                                            min: \"0.1\",\n                                            step: \"0.1\",\n                                            className: \"flex-1 p-2 border border-slate-300 dark:border-slate-600 rounded bg-white dark:bg-slate-700 text-black dark:text-white\"\n                                        }, void 0, false, {\n                                            fileName: \"D:\\\\Users\\\\Simon\\\\OneDrive\\\\Documents\\\\GitHub\\\\map-craft\\\\components\\\\Analysis\\\\SpatialAnalysis.jsx\",\n                                            lineNumber: 322,\n                                            columnNumber: 17\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                                            value: bufferUnit,\n                                            onChange: (e)=>setBufferUnit(e.target.value),\n                                            className: \"p-2 border border-slate-300 dark:border-slate-600 rounded bg-white dark:bg-slate-700 text-black dark:text-white\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                    value: \"kilometers\",\n                                                    children: \"kilom\\xe8tres\"\n                                                }, void 0, false, {\n                                                    fileName: \"D:\\\\Users\\\\Simon\\\\OneDrive\\\\Documents\\\\GitHub\\\\map-craft\\\\components\\\\Analysis\\\\SpatialAnalysis.jsx\",\n                                                    lineNumber: 335,\n                                                    columnNumber: 19\n                                                }, undefined),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                    value: \"meters\",\n                                                    children: \"m\\xe8tres\"\n                                                }, void 0, false, {\n                                                    fileName: \"D:\\\\Users\\\\Simon\\\\OneDrive\\\\Documents\\\\GitHub\\\\map-craft\\\\components\\\\Analysis\\\\SpatialAnalysis.jsx\",\n                                                    lineNumber: 336,\n                                                    columnNumber: 19\n                                                }, undefined),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                    value: \"miles\",\n                                                    children: \"miles\"\n                                                }, void 0, false, {\n                                                    fileName: \"D:\\\\Users\\\\Simon\\\\OneDrive\\\\Documents\\\\GitHub\\\\map-craft\\\\components\\\\Analysis\\\\SpatialAnalysis.jsx\",\n                                                    lineNumber: 337,\n                                                    columnNumber: 19\n                                                }, undefined)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"D:\\\\Users\\\\Simon\\\\OneDrive\\\\Documents\\\\GitHub\\\\map-craft\\\\components\\\\Analysis\\\\SpatialAnalysis.jsx\",\n                                            lineNumber: 330,\n                                            columnNumber: 17\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"D:\\\\Users\\\\Simon\\\\OneDrive\\\\Documents\\\\GitHub\\\\map-craft\\\\components\\\\Analysis\\\\SpatialAnalysis.jsx\",\n                                    lineNumber: 321,\n                                    columnNumber: 15\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"D:\\\\Users\\\\Simon\\\\OneDrive\\\\Documents\\\\GitHub\\\\map-craft\\\\components\\\\Analysis\\\\SpatialAnalysis.jsx\",\n                            lineNumber: 319,\n                            columnNumber: 13\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"mb-4\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                    htmlFor: \"resultName\",\n                                    className: \"block text-sm font-medium mb-1\",\n                                    children: \"Nom de la couche r\\xe9sultante\"\n                                }, void 0, false, {\n                                    fileName: \"D:\\\\Users\\\\Simon\\\\OneDrive\\\\Documents\\\\GitHub\\\\map-craft\\\\components\\\\Analysis\\\\SpatialAnalysis.jsx\",\n                                    lineNumber: 345,\n                                    columnNumber: 13\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                    type: \"text\",\n                                    id: \"resultName\",\n                                    value: resultName,\n                                    onChange: (e)=>setResultName(e.target.value),\n                                    className: \"w-full p-2 border border-slate-300 dark:border-slate-600 rounded bg-white dark:bg-slate-700 text-black dark:text-white\"\n                                }, void 0, false, {\n                                    fileName: \"D:\\\\Users\\\\Simon\\\\OneDrive\\\\Documents\\\\GitHub\\\\map-craft\\\\components\\\\Analysis\\\\SpatialAnalysis.jsx\",\n                                    lineNumber: 348,\n                                    columnNumber: 13\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"D:\\\\Users\\\\Simon\\\\OneDrive\\\\Documents\\\\GitHub\\\\map-craft\\\\components\\\\Analysis\\\\SpatialAnalysis.jsx\",\n                            lineNumber: 344,\n                            columnNumber: 11\n                        }, undefined),\n                        status && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: `p-3 mb-4 rounded text-sm ${status.type === \"error\" ? \"bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300\" : status.type === \"success\" ? \"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300\" : status.type === \"warning\" ? \"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-300\" : \"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300\"}`,\n                            children: status.message\n                        }, void 0, false, {\n                            fileName: \"D:\\\\Users\\\\Simon\\\\OneDrive\\\\Documents\\\\GitHub\\\\map-craft\\\\components\\\\Analysis\\\\SpatialAnalysis.jsx\",\n                            lineNumber: 359,\n                            columnNumber: 13\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex justify-end space-x-2\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: onClose,\n                                    className: \"px-4 py-2 border border-slate-300 dark:border-slate-600 rounded hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors\",\n                                    children: \"Fermer\"\n                                }, void 0, false, {\n                                    fileName: \"D:\\\\Users\\\\Simon\\\\OneDrive\\\\Documents\\\\GitHub\\\\map-craft\\\\components\\\\Analysis\\\\SpatialAnalysis.jsx\",\n                                    lineNumber: 371,\n                                    columnNumber: 13\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: runAnalysis,\n                                    className: \"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors flex items-center\",\n                                    disabled: !sourceLayer || [\n                                        \"intersection\",\n                                        \"union\",\n                                        \"difference\"\n                                    ].includes(selectedAnalysis) && !targetLayer,\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiBarChart2_FiCpu_FiMap_FiPlus_FiSearch_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_4__.FiBarChart2, {\n                                            className: \"mr-2\"\n                                        }, void 0, false, {\n                                            fileName: \"D:\\\\Users\\\\Simon\\\\OneDrive\\\\Documents\\\\GitHub\\\\map-craft\\\\components\\\\Analysis\\\\SpatialAnalysis.jsx\",\n                                            lineNumber: 382,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        \"Ex\\xe9cuter l'analyse\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"D:\\\\Users\\\\Simon\\\\OneDrive\\\\Documents\\\\GitHub\\\\map-craft\\\\components\\\\Analysis\\\\SpatialAnalysis.jsx\",\n                                    lineNumber: 377,\n                                    columnNumber: 13\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"D:\\\\Users\\\\Simon\\\\OneDrive\\\\Documents\\\\GitHub\\\\map-craft\\\\components\\\\Analysis\\\\SpatialAnalysis.jsx\",\n                            lineNumber: 370,\n                            columnNumber: 11\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"D:\\\\Users\\\\Simon\\\\OneDrive\\\\Documents\\\\GitHub\\\\map-craft\\\\components\\\\Analysis\\\\SpatialAnalysis.jsx\",\n                    lineNumber: 251,\n                    columnNumber: 9\n                }, undefined)\n            ]\n        }, void 0, true, {\n            fileName: \"D:\\\\Users\\\\Simon\\\\OneDrive\\\\Documents\\\\GitHub\\\\map-craft\\\\components\\\\Analysis\\\\SpatialAnalysis.jsx\",\n            lineNumber: 237,\n            columnNumber: 7\n        }, undefined)\n    }, void 0, false, {\n        fileName: \"D:\\\\Users\\\\Simon\\\\OneDrive\\\\Documents\\\\GitHub\\\\map-craft\\\\components\\\\Analysis\\\\SpatialAnalysis.jsx\",\n        lineNumber: 236,\n        columnNumber: 5\n    }, undefined);\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SpatialAnalysis);\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9jb21wb25lbnRzL0FuYWx5c2lzL1NwYXRpYWxBbmFseXNpcy5qc3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQXdDO0FBQzBDO0FBQ3JCO0FBQzFCO0FBRW5DLE1BQU1VLGtCQUFrQixDQUFDLEVBQUVDLE9BQU8sRUFBRTtJQUNsQyxNQUFNLEVBQUVDLE1BQU0sRUFBRUMsUUFBUSxFQUFFLEdBQUdMLHFFQUFlQTtJQUM1QyxNQUFNLENBQUNNLGtCQUFrQkMsb0JBQW9CLEdBQUdkLCtDQUFRQSxDQUFDO0lBQ3pELE1BQU0sQ0FBQ2UsYUFBYUMsZUFBZSxHQUFHaEIsK0NBQVFBLENBQUM7SUFDL0MsTUFBTSxDQUFDaUIsYUFBYUMsZUFBZSxHQUFHbEIsK0NBQVFBLENBQUM7SUFDL0MsTUFBTSxDQUFDbUIsZ0JBQWdCQyxrQkFBa0IsR0FBR3BCLCtDQUFRQSxDQUFDO0lBQ3JELE1BQU0sQ0FBQ3FCLFlBQVlDLGNBQWMsR0FBR3RCLCtDQUFRQSxDQUFDO0lBQzdDLE1BQU0sQ0FBQ3VCLFlBQVlDLGNBQWMsR0FBR3hCLCtDQUFRQSxDQUFDO0lBQzdDLE1BQU0sQ0FBQ3lCLFFBQVFDLFVBQVUsR0FBRzFCLCtDQUFRQSxDQUFDO0lBRXJDLDZCQUE2QjtJQUM3QixNQUFNMkIsV0FBVztRQUNmO1lBQUVDLElBQUk7WUFBVUMsTUFBTTtZQUFlQyxvQkFBTSw4REFBQ3pCLHFIQUFNQTs7Ozs7UUFBSTtRQUN0RDtZQUFFdUIsSUFBSTtZQUFZQyxNQUFNO1lBQWNDLG9CQUFNLDhEQUFDeEIsb0hBQUtBOzs7OztRQUFJO1FBQ3REO1lBQUVzQixJQUFJO1lBQWdCQyxNQUFNO1lBQWdCQyxvQkFBTSw4REFBQzFCLHVIQUFRQTs7Ozs7UUFBSTtRQUMvRDtZQUFFd0IsSUFBSTtZQUFTQyxNQUFNO1lBQVNDLG9CQUFNLDhEQUFDekIscUhBQU1BOzs7OztRQUFJO1FBQy9DO1lBQUV1QixJQUFJO1lBQWNDLE1BQU07WUFBY0Msb0JBQU0sOERBQUMxQix1SEFBUUE7Ozs7O1FBQUk7UUFDM0Q7WUFBRXdCLElBQUk7WUFBV0MsTUFBTTtZQUF3QkMsb0JBQU0sOERBQUN4QixvSEFBS0E7Ozs7O1FBQUk7S0FDaEU7SUFFRCw4QkFBOEI7SUFDOUIsTUFBTXlCLGNBQWM7UUFDbEIsSUFBSTtZQUNGTCxVQUFVO2dCQUFFTSxNQUFNO2dCQUFXQyxTQUFTO1lBQXNCO1lBRTVELDBCQUEwQjtZQUMxQixJQUFJLENBQUNsQixhQUFhO2dCQUNoQixNQUFNLElBQUltQixNQUFNO1lBQ2xCO1lBRUEsMkJBQTJCO1lBQzNCLE1BQU1DLFNBQVN4QixPQUFPeUIsSUFBSSxDQUFDQyxDQUFBQSxJQUFLQSxFQUFFVCxFQUFFLEtBQUtiO1lBQ3pDLElBQUksQ0FBQ29CLFVBQVUsQ0FBQ0EsT0FBT0csSUFBSSxFQUFFO2dCQUMzQixNQUFNLElBQUlKLE1BQU07WUFDbEI7WUFFQSxJQUFJSztZQUVKLGdEQUFnRDtZQUNoRCxPQUFRMUI7Z0JBQ04sS0FBSztvQkFDSDBCLFNBQVM7d0JBQ1BQLE1BQU07d0JBQ05RLFVBQVVMLE9BQU9HLElBQUksQ0FBQ0UsUUFBUSxDQUFDQyxHQUFHLENBQUNDLENBQUFBLFVBQ2pDbEMsOENBQVcsQ0FBQ2tDLFNBQVN2QixnQkFBZ0I7Z0NBQUV5QixPQUFPdkI7NEJBQVc7b0JBRTdEO29CQUNBO2dCQUVGLEtBQUs7b0JBQ0hrQixTQUFTO3dCQUNQUCxNQUFNO3dCQUNOUSxVQUFVTCxPQUFPRyxJQUFJLENBQUNFLFFBQVEsQ0FBQ0MsR0FBRyxDQUFDQyxDQUFBQTs0QkFDakMsTUFBTUcsV0FBV3JDLGdEQUFhLENBQUNrQzs0QkFDL0JHLFNBQVNDLFVBQVUsR0FBRztnQ0FBRSxHQUFHSixRQUFRSSxVQUFVOzRCQUFDOzRCQUM5QyxPQUFPRDt3QkFDVDtvQkFDRjtvQkFDQTtnQkFFRixLQUFLO29CQUNILElBQUksQ0FBQzVCLGFBQWE7d0JBQ2hCLE1BQU0sSUFBSWlCLE1BQU07b0JBQ2xCO29CQUVBLE1BQU1hLFNBQVNwQyxPQUFPeUIsSUFBSSxDQUFDQyxDQUFBQSxJQUFLQSxFQUFFVCxFQUFFLEtBQUtYO29CQUN6QyxJQUFJLENBQUM4QixVQUFVLENBQUNBLE9BQU9ULElBQUksRUFBRTt3QkFDM0IsTUFBTSxJQUFJSixNQUFNO29CQUNsQjtvQkFFQSxpREFBaUQ7b0JBQ2pELE1BQU1jLGlCQUFpQmIsT0FBT0csSUFBSSxDQUFDRSxRQUFRO29CQUMzQyxNQUFNUyxpQkFBaUJGLE9BQU9ULElBQUksQ0FBQ0UsUUFBUTtvQkFFM0MsTUFBTVUsdUJBQXVCLEVBQUU7b0JBRS9CLEtBQUssTUFBTUMsaUJBQWlCSCxlQUFnQjt3QkFDMUMsS0FBSyxNQUFNSSxpQkFBaUJILGVBQWdCOzRCQUMxQyxJQUFJO2dDQUNGLE1BQU1JLGVBQWU3QyxpREFBYyxDQUFDMkMsZUFBZUM7Z0NBQ25ELElBQUlDLGNBQWM7b0NBQ2hCQSxhQUFhUCxVQUFVLEdBQUc7d0NBQ3hCLEdBQUdLLGNBQWNMLFVBQVU7d0NBQzNCUyxhQUFhcEIsT0FBT3FCLEtBQUssSUFBSXJCLE9BQU9QLEVBQUU7d0NBQ3RDNkIsYUFBYVYsT0FBT1MsS0FBSyxJQUFJVCxPQUFPbkIsRUFBRTtvQ0FDeEM7b0NBQ0FzQixxQkFBcUJRLElBQUksQ0FBQ0w7Z0NBQzVCOzRCQUNGLEVBQUUsT0FBT00sS0FBSztnQ0FDWkMsUUFBUUMsSUFBSSxDQUFDLHlDQUEwQ0Y7NEJBQ3pEO3dCQUNGO29CQUNGO29CQUVBcEIsU0FBUzt3QkFDUFAsTUFBTTt3QkFDTlEsVUFBVVU7b0JBQ1o7b0JBQ0E7Z0JBRUYsS0FBSztvQkFDSCxJQUFJLENBQUNqQyxhQUFhO3dCQUNoQixNQUFNLElBQUlpQixNQUFNO29CQUNsQjtvQkFFQSxNQUFNNEIsaUJBQWlCbkQsT0FBT3lCLElBQUksQ0FBQ0MsQ0FBQUEsSUFBS0EsRUFBRVQsRUFBRSxLQUFLWDtvQkFDakQsSUFBSSxDQUFDNkMsa0JBQWtCLENBQUNBLGVBQWV4QixJQUFJLEVBQUU7d0JBQzNDLE1BQU0sSUFBSUosTUFBTTtvQkFDbEI7b0JBRUEseUJBQXlCO29CQUN6QixNQUFNNkIsV0FBVzt3QkFDZi9CLE1BQU07d0JBQ05RLFVBQVU7K0JBQ0xMLE9BQU9HLElBQUksQ0FBQ0UsUUFBUTsrQkFDcEJzQixlQUFleEIsSUFBSSxDQUFDRSxRQUFRO3lCQUNoQztvQkFDSDtvQkFFQUQsU0FBUy9CLDZDQUFVLElBQUl1RCxTQUFTdkIsUUFBUTtvQkFFeEMsK0NBQStDO29CQUMvQyxJQUFJRCxPQUFPUCxJQUFJLEtBQUsscUJBQXFCO3dCQUN2Q08sU0FBUzs0QkFDUFAsTUFBTTs0QkFDTlEsVUFBVTtnQ0FBQ0Q7NkJBQU87d0JBQ3BCO29CQUNGO29CQUNBO2dCQUVGLEtBQUs7b0JBQ0gsSUFBSSxDQUFDdEIsYUFBYTt3QkFDaEIsTUFBTSxJQUFJaUIsTUFBTTtvQkFDbEI7b0JBRUEsTUFBTStCLGdCQUFnQnRELE9BQU95QixJQUFJLENBQUNDLENBQUFBLElBQUtBLEVBQUVULEVBQUUsS0FBS1g7b0JBQ2hELElBQUksQ0FBQ2dELGlCQUFpQixDQUFDQSxjQUFjM0IsSUFBSSxFQUFFO3dCQUN6QyxNQUFNLElBQUlKLE1BQU07b0JBQ2xCO29CQUVBLCtDQUErQztvQkFDL0MsTUFBTWdDLGVBQWUsRUFBRTtvQkFFdkIsS0FBSyxNQUFNZixpQkFBaUJoQixPQUFPRyxJQUFJLENBQUNFLFFBQVEsQ0FBRTt3QkFDaEQsSUFBSTJCLGlCQUFpQmhCO3dCQUVyQixLQUFLLE1BQU1DLGlCQUFpQmEsY0FBYzNCLElBQUksQ0FBQ0UsUUFBUSxDQUFFOzRCQUN2RCxJQUFJO2dDQUNGLE1BQU00QixPQUFPNUQsa0RBQWUsQ0FBQzJELGdCQUFnQmY7Z0NBQzdDLElBQUlnQixNQUFNO29DQUNSRCxpQkFBaUJDO2dDQUNuQjs0QkFDRixFQUFFLE9BQU9ULEtBQUs7Z0NBQ1pDLFFBQVFDLElBQUksQ0FBQywyQ0FBd0NGOzRCQUN2RDt3QkFDRjt3QkFFQSxJQUFJUSxnQkFBZ0I7NEJBQ2xCRCxhQUFhUixJQUFJLENBQUNTO3dCQUNwQjtvQkFDRjtvQkFFQTVCLFNBQVM7d0JBQ1BQLE1BQU07d0JBQ05RLFVBQVUwQjtvQkFDWjtvQkFDQTtnQkFFRixLQUFLO29CQUNILHlEQUF5RDtvQkFDekQsTUFBTUksU0FBU25DLE9BQU9HLElBQUksQ0FBQ0UsUUFBUSxDQUFDQyxHQUFHLENBQUNDLENBQUFBO3dCQUN0QyxJQUFJQSxRQUFRNkIsUUFBUSxDQUFDdkMsSUFBSSxLQUFLLFNBQVM7NEJBQ3JDLE9BQU9VO3dCQUNULE9BQU87NEJBQ0wsT0FBT2xDLGdEQUFhLENBQUNrQzt3QkFDdkI7b0JBQ0Y7b0JBRUEsTUFBTThCLG1CQUFtQjt3QkFDdkJ4QyxNQUFNO3dCQUNOUSxVQUFVOEI7b0JBQ1o7b0JBRUEsOEJBQThCO29CQUM5QixNQUFNRyxPQUFPakUsNENBQVMsQ0FBQ2dFO29CQUV2QixnQ0FBZ0M7b0JBQ2hDLE1BQU1FLGtCQUFrQmxFLCtDQUFZLENBQUNnRSxrQkFBa0I7d0JBQUVDO29CQUFLO29CQUU5RGxDLFNBQVNtQztvQkFDVDtnQkFFRjtvQkFDRSxNQUFNLElBQUl4QyxNQUFNLENBQUMsbUNBQW1DLEVBQUVyQixpQkFBaUIsQ0FBQztZQUM1RTtZQUVBLGdDQUFnQztZQUNoQyxJQUFJMEIsVUFBVUEsT0FBT0MsUUFBUSxJQUFJRCxPQUFPQyxRQUFRLENBQUNvQyxNQUFNLEdBQUcsR0FBRztnQkFDM0QsTUFBTUMsWUFBWXRDLE9BQU9DLFFBQVEsQ0FBQyxFQUFFLENBQUMrQixRQUFRLENBQUN2QyxJQUFJLENBQUM4QyxRQUFRLENBQUMsYUFDeEQsZUFDQXZDLE9BQU9DLFFBQVEsQ0FBQyxFQUFFLENBQUMrQixRQUFRLENBQUN2QyxJQUFJLEtBQUssVUFDbkMsVUFDQTtnQkFFTixNQUFNK0MsYUFBYW5FLFNBQVM7b0JBQzFCNEMsT0FBT2pDO29CQUNQUyxNQUFNNkM7b0JBQ052QyxNQUFNQztnQkFDUjtnQkFFQWIsVUFBVTtvQkFDUk0sTUFBTTtvQkFDTkMsU0FBUyxDQUFDLDhCQUE4QixFQUFFTSxPQUFPQyxRQUFRLENBQUNvQyxNQUFNLENBQUMsZ0JBQWdCLENBQUM7b0JBQ2xGSSxTQUFTRDtnQkFDWDtZQUNGLE9BQU87Z0JBQ0xyRCxVQUFVO29CQUNSTSxNQUFNO29CQUNOQyxTQUFTO2dCQUNYO1lBQ0Y7UUFDRixFQUFFLE9BQU9nRCxPQUFPO1lBQ2R2RCxVQUFVO2dCQUNSTSxNQUFNO2dCQUNOQyxTQUFTLENBQUMsMEJBQTBCLEVBQUVnRCxNQUFNaEQsT0FBTyxDQUFDLENBQUM7WUFDdkQ7UUFDRjtJQUNGO0lBRUEscUJBQ0UsOERBQUNpRDtRQUFJQyxXQUFVO2tCQUNiLDRFQUFDRDtZQUFJQyxXQUFVOzs4QkFDYiw4REFBQ0Q7b0JBQUlDLFdBQVU7O3NDQUNiLDhEQUFDQzs0QkFBR0QsV0FBVTs7OENBQ1osOERBQUNqRixvSEFBS0E7b0NBQUNpRixXQUFVOzs7Ozs7Z0NBQVM7Ozs7Ozs7c0NBRzVCLDhEQUFDRTs0QkFDQ0MsU0FBUzVFOzRCQUNUeUUsV0FBVTtzQ0FFViw0RUFBQ2xGLGtIQUFHQTs7Ozs7Ozs7Ozs7Ozs7Ozs4QkFJUiw4REFBQ2lGO29CQUFJQyxXQUFVOztzQ0FFYiw4REFBQ0Q7NEJBQUlDLFdBQVU7OzhDQUNiLDhEQUFDSTtvQ0FBTUosV0FBVTs4Q0FBaUM7Ozs7Ozs4Q0FDbEQsOERBQUNEO29DQUFJQyxXQUFVOzhDQUNaeEQsU0FBU2MsR0FBRyxDQUFDK0MsQ0FBQUEseUJBQ1osOERBQUNIOzRDQUVDRixXQUFXLENBQUMsMkJBQTJCLEVBQ3JDdEUscUJBQXFCMkUsU0FBUzVELEVBQUUsR0FDNUIseUVBQ0EsbUZBQ0wsQ0FBQzs0Q0FDRjBELFNBQVMsSUFBTXhFLG9CQUFvQjBFLFNBQVM1RCxFQUFFO3NEQUU5Qyw0RUFBQ3NEO2dEQUFJQyxXQUFVOztrRUFDYiw4REFBQ007d0RBQUtOLFdBQVU7a0VBQVFLLFNBQVMxRCxJQUFJOzs7Ozs7a0VBQ3JDLDhEQUFDMkQ7a0VBQU1ELFNBQVMzRCxJQUFJOzs7Ozs7Ozs7Ozs7MkNBVmpCMkQsU0FBUzVELEVBQUU7Ozs7Ozs7Ozs7Ozs7Ozs7c0NBa0J4Qiw4REFBQ3NEOzRCQUFJQyxXQUFVOzs4Q0FDYiw4REFBQ0k7b0NBQU1HLFNBQVE7b0NBQWNQLFdBQVU7OENBQWlDOzs7Ozs7OENBR3hFLDhEQUFDUTtvQ0FDQy9ELElBQUc7b0NBQ0hnRSxPQUFPN0U7b0NBQ1A4RSxVQUFVLENBQUNDLElBQU05RSxlQUFlOEUsRUFBRS9DLE1BQU0sQ0FBQzZDLEtBQUs7b0NBQzlDVCxXQUFVOztzREFFViw4REFBQ1k7NENBQU9ILE9BQU07c0RBQUc7Ozs7Ozt3Q0FDaEJqRixPQUFPOEIsR0FBRyxDQUFDdUQsQ0FBQUEsc0JBQ1YsOERBQUNEO2dEQUFzQkgsT0FBT0ksTUFBTXBFLEVBQUU7MERBQ25Db0UsTUFBTXhDLEtBQUssSUFBSXdDLE1BQU1wRSxFQUFFOytDQURib0UsTUFBTXBFLEVBQUU7Ozs7Ozs7Ozs7Ozs7Ozs7O3dCQVExQjs0QkFBQzs0QkFBZ0I7NEJBQVM7eUJBQWEsQ0FBQ2tELFFBQVEsQ0FBQ2pFLG1DQUNoRCw4REFBQ3FFOzRCQUFJQyxXQUFVOzs4Q0FDYiw4REFBQ0k7b0NBQU1HLFNBQVE7b0NBQWNQLFdBQVU7OENBQWlDOzs7Ozs7OENBR3hFLDhEQUFDUTtvQ0FDQy9ELElBQUc7b0NBQ0hnRSxPQUFPM0U7b0NBQ1A0RSxVQUFVLENBQUNDLElBQU01RSxlQUFlNEUsRUFBRS9DLE1BQU0sQ0FBQzZDLEtBQUs7b0NBQzlDVCxXQUFVOztzREFFViw4REFBQ1k7NENBQU9ILE9BQU07c0RBQUc7Ozs7Ozt3Q0FDaEJqRixPQUFPc0YsTUFBTSxDQUFDNUQsQ0FBQUEsSUFBS0EsRUFBRVQsRUFBRSxLQUFLYixhQUFhMEIsR0FBRyxDQUFDdUQsQ0FBQUEsc0JBQzVDLDhEQUFDRDtnREFBc0JILE9BQU9JLE1BQU1wRSxFQUFFOzBEQUNuQ29FLE1BQU14QyxLQUFLLElBQUl3QyxNQUFNcEUsRUFBRTsrQ0FEYm9FLE1BQU1wRSxFQUFFOzs7Ozs7Ozs7Ozs7Ozs7Ozt3QkFTNUJmLHFCQUFxQiwwQkFDcEIsOERBQUNxRTs0QkFBSUMsV0FBVTs7OENBQ2IsOERBQUNJO29DQUFNSixXQUFVOzhDQUFpQzs7Ozs7OzhDQUNsRCw4REFBQ0Q7b0NBQUlDLFdBQVU7O3NEQUNiLDhEQUFDZTs0Q0FDQ2xFLE1BQUs7NENBQ0w0RCxPQUFPekU7NENBQ1AwRSxVQUFVLENBQUNDLElBQU0xRSxrQkFBa0IrRSxPQUFPTCxFQUFFL0MsTUFBTSxDQUFDNkMsS0FBSzs0Q0FDeERRLEtBQUk7NENBQ0pDLE1BQUs7NENBQ0xsQixXQUFVOzs7Ozs7c0RBRVosOERBQUNROzRDQUNDQyxPQUFPdkU7NENBQ1B3RSxVQUFVLENBQUNDLElBQU14RSxjQUFjd0UsRUFBRS9DLE1BQU0sQ0FBQzZDLEtBQUs7NENBQzdDVCxXQUFVOzs4REFFViw4REFBQ1k7b0RBQU9ILE9BQU07OERBQWE7Ozs7Ozs4REFDM0IsOERBQUNHO29EQUFPSCxPQUFNOzhEQUFTOzs7Ozs7OERBQ3ZCLDhEQUFDRztvREFBT0gsT0FBTTs4REFBUTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O3NDQU85Qiw4REFBQ1Y7NEJBQUlDLFdBQVU7OzhDQUNiLDhEQUFDSTtvQ0FBTUcsU0FBUTtvQ0FBYVAsV0FBVTs4Q0FBaUM7Ozs7Ozs4Q0FHdkUsOERBQUNlO29DQUNDbEUsTUFBSztvQ0FDTEosSUFBRztvQ0FDSGdFLE9BQU9yRTtvQ0FDUHNFLFVBQVUsQ0FBQ0MsSUFBTXRFLGNBQWNzRSxFQUFFL0MsTUFBTSxDQUFDNkMsS0FBSztvQ0FDN0NULFdBQVU7Ozs7Ozs7Ozs7Ozt3QkFLYjFELHdCQUNDLDhEQUFDeUQ7NEJBQUlDLFdBQVcsQ0FBQyx5QkFBeUIsRUFDeEMxRCxPQUFPTyxJQUFJLEtBQUssVUFBVSxpRUFDMUJQLE9BQU9PLElBQUksS0FBSyxZQUFZLHlFQUM1QlAsT0FBT08sSUFBSSxLQUFLLFlBQVksNkVBQzVCLG1FQUNELENBQUM7c0NBQ0NQLE9BQU9RLE9BQU87Ozs7OztzQ0FLbkIsOERBQUNpRDs0QkFBSUMsV0FBVTs7OENBQ2IsOERBQUNFO29DQUNDQyxTQUFTNUU7b0NBQ1R5RSxXQUFVOzhDQUNYOzs7Ozs7OENBR0QsOERBQUNFO29DQUNDQyxTQUFTdkQ7b0NBQ1RvRCxXQUFVO29DQUNWbUIsVUFBVSxDQUFDdkYsZUFBZ0I7d0NBQUM7d0NBQWdCO3dDQUFTO3FDQUFhLENBQUMrRCxRQUFRLENBQUNqRSxxQkFBcUIsQ0FBQ0k7O3NEQUVsRyw4REFBQ2QsMEhBQVdBOzRDQUFDZ0YsV0FBVTs7Ozs7O3dDQUFTOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFROUM7QUFFQSxpRUFBZTFFLGVBQWVBLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tYXBjcmFmdC8uL2NvbXBvbmVudHMvQW5hbHlzaXMvU3BhdGlhbEFuYWx5c2lzLmpzeD9mMzQyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IHsgRmlYLCBGaUNwdSwgRmlCYXJDaGFydDIsIEZpU2VhcmNoLCBGaVBsdXMsIEZpTWFwIH0gZnJvbSAncmVhY3QtaWNvbnMvZmknO1xyXG5pbXBvcnQgdXNlTGF5ZXJNYW5hZ2VyIGZyb20gJy4uLy4uL2hvb2tzL3VzZUxheWVyTWFuYWdlci5qcyc7XHJcbmltcG9ydCAqIGFzIHR1cmYgZnJvbSAnQHR1cmYvdHVyZic7XHJcblxyXG5jb25zdCBTcGF0aWFsQW5hbHlzaXMgPSAoeyBvbkNsb3NlIH0pID0+IHtcclxuICBjb25zdCB7IGxheWVycywgYWRkTGF5ZXIgfSA9IHVzZUxheWVyTWFuYWdlcigpO1xyXG4gIGNvbnN0IFtzZWxlY3RlZEFuYWx5c2lzLCBzZXRTZWxlY3RlZEFuYWx5c2lzXSA9IHVzZVN0YXRlKCdidWZmZXInKTtcclxuICBjb25zdCBbc291cmNlTGF5ZXIsIHNldFNvdXJjZUxheWVyXSA9IHVzZVN0YXRlKCcnKTtcclxuICBjb25zdCBbdGFyZ2V0TGF5ZXIsIHNldFRhcmdldExheWVyXSA9IHVzZVN0YXRlKCcnKTtcclxuICBjb25zdCBbYnVmZmVyRGlzdGFuY2UsIHNldEJ1ZmZlckRpc3RhbmNlXSA9IHVzZVN0YXRlKDEpO1xyXG4gIGNvbnN0IFtidWZmZXJVbml0LCBzZXRCdWZmZXJVbml0XSA9IHVzZVN0YXRlKCdraWxvbWV0ZXJzJyk7XHJcbiAgY29uc3QgW3Jlc3VsdE5hbWUsIHNldFJlc3VsdE5hbWVdID0gdXNlU3RhdGUoJ1LDqXN1bHRhdCBkXFwnYW5hbHlzZScpO1xyXG4gIGNvbnN0IFtzdGF0dXMsIHNldFN0YXR1c10gPSB1c2VTdGF0ZShudWxsKTtcclxuXHJcbiAgLy8gT3B0aW9ucyBkJ2FuYWx5c2Ugc3BhdGlhbGVcclxuICBjb25zdCBhbmFseXNlcyA9IFtcclxuICAgIHsgaWQ6ICdidWZmZXInLCBuYW1lOiAnWm9uZSB0YW1wb24nLCBpY29uOiA8RmlQbHVzIC8+IH0sXHJcbiAgICB7IGlkOiAnY2VudHJvaWQnLCBuYW1lOiAnQ2VudHJvw69kZXMnLCBpY29uOiA8RmlNYXAgLz4gfSxcclxuICAgIHsgaWQ6ICdpbnRlcnNlY3Rpb24nLCBuYW1lOiAnSW50ZXJzZWN0aW9uJywgaWNvbjogPEZpU2VhcmNoIC8+IH0sXHJcbiAgICB7IGlkOiAndW5pb24nLCBuYW1lOiAnVW5pb24nLCBpY29uOiA8RmlQbHVzIC8+IH0sXHJcbiAgICB7IGlkOiAnZGlmZmVyZW5jZScsIG5hbWU6ICdEaWZmw6lyZW5jZScsIGljb246IDxGaVNlYXJjaCAvPiB9LFxyXG4gICAgeyBpZDogJ3Zvcm9ub2knLCBuYW1lOiAnRGlhZ3JhbW1lIGRlIFZvcm9ub8OvJywgaWNvbjogPEZpTWFwIC8+IH1cclxuICBdO1xyXG5cclxuICAvLyBFeMOpY3V0ZXIgbCdhbmFseXNlIHNwYXRpYWxlXHJcbiAgY29uc3QgcnVuQW5hbHlzaXMgPSAoKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBzZXRTdGF0dXMoeyB0eXBlOiAnbG9hZGluZycsIG1lc3NhZ2U6ICdBbmFseXNlIGVuIGNvdXJzLi4uJyB9KTtcclxuICAgICAgXHJcbiAgICAgIC8vIFbDqXJpZmllciBsZXMgcGFyYW3DqHRyZXNcclxuICAgICAgaWYgKCFzb3VyY2VMYXllcikge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVmV1aWxsZXogc8OpbGVjdGlvbm5lciB1bmUgY291Y2hlIHNvdXJjZScpO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICAvLyBUcm91dmVyIGxhIGNvdWNoZSBzb3VyY2VcclxuICAgICAgY29uc3Qgc291cmNlID0gbGF5ZXJzLmZpbmQobCA9PiBsLmlkID09PSBzb3VyY2VMYXllcik7XHJcbiAgICAgIGlmICghc291cmNlIHx8ICFzb3VyY2UuZGF0YSkge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQ291Y2hlIHNvdXJjZSBub24gdHJvdXbDqWUgb3UgaW52YWxpZGUnKTtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgbGV0IHJlc3VsdDtcclxuICAgICAgXHJcbiAgICAgIC8vIEVmZmVjdHVlciBsJ2FuYWx5c2Ugc2Vsb24gbGUgdHlwZSBzw6lsZWN0aW9ubsOpXHJcbiAgICAgIHN3aXRjaCAoc2VsZWN0ZWRBbmFseXNpcykge1xyXG4gICAgICAgIGNhc2UgJ2J1ZmZlcic6XHJcbiAgICAgICAgICByZXN1bHQgPSB7XHJcbiAgICAgICAgICAgIHR5cGU6ICdGZWF0dXJlQ29sbGVjdGlvbicsXHJcbiAgICAgICAgICAgIGZlYXR1cmVzOiBzb3VyY2UuZGF0YS5mZWF0dXJlcy5tYXAoZmVhdHVyZSA9PiBcclxuICAgICAgICAgICAgICB0dXJmLmJ1ZmZlcihmZWF0dXJlLCBidWZmZXJEaXN0YW5jZSwgeyB1bml0czogYnVmZmVyVW5pdCB9KVxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICBcclxuICAgICAgICBjYXNlICdjZW50cm9pZCc6XHJcbiAgICAgICAgICByZXN1bHQgPSB7XHJcbiAgICAgICAgICAgIHR5cGU6ICdGZWF0dXJlQ29sbGVjdGlvbicsXHJcbiAgICAgICAgICAgIGZlYXR1cmVzOiBzb3VyY2UuZGF0YS5mZWF0dXJlcy5tYXAoZmVhdHVyZSA9PiB7XHJcbiAgICAgICAgICAgICAgY29uc3QgY2VudHJvaWQgPSB0dXJmLmNlbnRyb2lkKGZlYXR1cmUpO1xyXG4gICAgICAgICAgICAgIGNlbnRyb2lkLnByb3BlcnRpZXMgPSB7IC4uLmZlYXR1cmUucHJvcGVydGllcyB9O1xyXG4gICAgICAgICAgICAgIHJldHVybiBjZW50cm9pZDtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICAgIFxyXG4gICAgICAgIGNhc2UgJ2ludGVyc2VjdGlvbic6XHJcbiAgICAgICAgICBpZiAoIXRhcmdldExheWVyKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVmV1aWxsZXogc8OpbGVjdGlvbm5lciB1bmUgY291Y2hlIGNpYmxlJyk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIGNvbnN0IHRhcmdldCA9IGxheWVycy5maW5kKGwgPT4gbC5pZCA9PT0gdGFyZ2V0TGF5ZXIpO1xyXG4gICAgICAgICAgaWYgKCF0YXJnZXQgfHwgIXRhcmdldC5kYXRhKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ291Y2hlIGNpYmxlIG5vbiB0cm91dsOpZSBvdSBpbnZhbGlkZScpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgXHJcbiAgICAgICAgICAvLyBDYWxjdWxlciBsJ2ludGVyc2VjdGlvbiBlbnRyZSBsZXMgZGV1eCBjb3VjaGVzXHJcbiAgICAgICAgICBjb25zdCBzb3VyY2VGZWF0dXJlcyA9IHNvdXJjZS5kYXRhLmZlYXR1cmVzO1xyXG4gICAgICAgICAgY29uc3QgdGFyZ2V0RmVhdHVyZXMgPSB0YXJnZXQuZGF0YS5mZWF0dXJlcztcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgY29uc3QgaW50ZXJzZWN0aW9uRmVhdHVyZXMgPSBbXTtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgZm9yIChjb25zdCBzb3VyY2VGZWF0dXJlIG9mIHNvdXJjZUZlYXR1cmVzKSB7XHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgdGFyZ2V0RmVhdHVyZSBvZiB0YXJnZXRGZWF0dXJlcykge1xyXG4gICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBpbnRlcnNlY3Rpb24gPSB0dXJmLmludGVyc2VjdChzb3VyY2VGZWF0dXJlLCB0YXJnZXRGZWF0dXJlKTtcclxuICAgICAgICAgICAgICAgIGlmIChpbnRlcnNlY3Rpb24pIHtcclxuICAgICAgICAgICAgICAgICAgaW50ZXJzZWN0aW9uLnByb3BlcnRpZXMgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLi4uc291cmNlRmVhdHVyZS5wcm9wZXJ0aWVzLFxyXG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZV9uYW1lOiBzb3VyY2UudGl0bGUgfHwgc291cmNlLmlkLFxyXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldF9uYW1lOiB0YXJnZXQudGl0bGUgfHwgdGFyZ2V0LmlkXHJcbiAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgIGludGVyc2VjdGlvbkZlYXR1cmVzLnB1c2goaW50ZXJzZWN0aW9uKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignRXJyZXVyIGxvcnMgZHUgY2FsY3VsIGRcXCdpbnRlcnNlY3Rpb246JywgZXJyKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICAgIFxyXG4gICAgICAgICAgcmVzdWx0ID0ge1xyXG4gICAgICAgICAgICB0eXBlOiAnRmVhdHVyZUNvbGxlY3Rpb24nLFxyXG4gICAgICAgICAgICBmZWF0dXJlczogaW50ZXJzZWN0aW9uRmVhdHVyZXNcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICAgIFxyXG4gICAgICAgIGNhc2UgJ3VuaW9uJzpcclxuICAgICAgICAgIGlmICghdGFyZ2V0TGF5ZXIpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdWZXVpbGxleiBzw6lsZWN0aW9ubmVyIHVuZSBjb3VjaGUgY2libGUnKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIFxyXG4gICAgICAgICAgY29uc3QgdGFyZ2V0Rm9yVW5pb24gPSBsYXllcnMuZmluZChsID0+IGwuaWQgPT09IHRhcmdldExheWVyKTtcclxuICAgICAgICAgIGlmICghdGFyZ2V0Rm9yVW5pb24gfHwgIXRhcmdldEZvclVuaW9uLmRhdGEpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDb3VjaGUgY2libGUgbm9uIHRyb3V2w6llIG91IGludmFsaWRlJyk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIC8vIFVuaW9uIGRlcyBkZXV4IGNvdWNoZXNcclxuICAgICAgICAgIGNvbnN0IGNvbWJpbmVkID0ge1xyXG4gICAgICAgICAgICB0eXBlOiAnRmVhdHVyZUNvbGxlY3Rpb24nLFxyXG4gICAgICAgICAgICBmZWF0dXJlczogW1xyXG4gICAgICAgICAgICAgIC4uLnNvdXJjZS5kYXRhLmZlYXR1cmVzLFxyXG4gICAgICAgICAgICAgIC4uLnRhcmdldEZvclVuaW9uLmRhdGEuZmVhdHVyZXNcclxuICAgICAgICAgICAgXVxyXG4gICAgICAgICAgfTtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgcmVzdWx0ID0gdHVyZi51bmlvbiguLi5jb21iaW5lZC5mZWF0dXJlcyk7XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIC8vIENvbnZlcnRpciBlbiBGZWF0dXJlQ29sbGVjdGlvbiBzaSBuw6ljZXNzYWlyZVxyXG4gICAgICAgICAgaWYgKHJlc3VsdC50eXBlICE9PSAnRmVhdHVyZUNvbGxlY3Rpb24nKSB7XHJcbiAgICAgICAgICAgIHJlc3VsdCA9IHtcclxuICAgICAgICAgICAgICB0eXBlOiAnRmVhdHVyZUNvbGxlY3Rpb24nLFxyXG4gICAgICAgICAgICAgIGZlYXR1cmVzOiBbcmVzdWx0XVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICBcclxuICAgICAgICBjYXNlICdkaWZmZXJlbmNlJzpcclxuICAgICAgICAgIGlmICghdGFyZ2V0TGF5ZXIpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdWZXVpbGxleiBzw6lsZWN0aW9ubmVyIHVuZSBjb3VjaGUgY2libGUnKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIFxyXG4gICAgICAgICAgY29uc3QgdGFyZ2V0Rm9yRGlmZiA9IGxheWVycy5maW5kKGwgPT4gbC5pZCA9PT0gdGFyZ2V0TGF5ZXIpO1xyXG4gICAgICAgICAgaWYgKCF0YXJnZXRGb3JEaWZmIHx8ICF0YXJnZXRGb3JEaWZmLmRhdGEpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDb3VjaGUgY2libGUgbm9uIHRyb3V2w6llIG91IGludmFsaWRlJyk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIC8vIENhbGN1bGVyIGxhIGRpZmbDqXJlbmNlIGVudHJlIHNvdXJjZSBldCBjaWJsZVxyXG4gICAgICAgICAgY29uc3QgZGlmZkZlYXR1cmVzID0gW107XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIGZvciAoY29uc3Qgc291cmNlRmVhdHVyZSBvZiBzb3VyY2UuZGF0YS5mZWF0dXJlcykge1xyXG4gICAgICAgICAgICBsZXQgY3VycmVudEZlYXR1cmUgPSBzb3VyY2VGZWF0dXJlO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgZm9yIChjb25zdCB0YXJnZXRGZWF0dXJlIG9mIHRhcmdldEZvckRpZmYuZGF0YS5mZWF0dXJlcykge1xyXG4gICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBkaWZmID0gdHVyZi5kaWZmZXJlbmNlKGN1cnJlbnRGZWF0dXJlLCB0YXJnZXRGZWF0dXJlKTtcclxuICAgICAgICAgICAgICAgIGlmIChkaWZmKSB7XHJcbiAgICAgICAgICAgICAgICAgIGN1cnJlbnRGZWF0dXJlID0gZGlmZjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignRXJyZXVyIGxvcnMgZHUgY2FsY3VsIGRlIGRpZmbDqXJlbmNlOicsIGVycik7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBpZiAoY3VycmVudEZlYXR1cmUpIHtcclxuICAgICAgICAgICAgICBkaWZmRmVhdHVyZXMucHVzaChjdXJyZW50RmVhdHVyZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICAgIFxyXG4gICAgICAgICAgcmVzdWx0ID0ge1xyXG4gICAgICAgICAgICB0eXBlOiAnRmVhdHVyZUNvbGxlY3Rpb24nLFxyXG4gICAgICAgICAgICBmZWF0dXJlczogZGlmZkZlYXR1cmVzXHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICBcclxuICAgICAgICBjYXNlICd2b3Jvbm9pJzpcclxuICAgICAgICAgIC8vIEV4dHJhaXJlIGxlcyBwb2ludHMgKG91IGNlbnRyb8OvZGVzIHBvdXIgbGVzIHBvbHlnb25lcylcclxuICAgICAgICAgIGNvbnN0IHBvaW50cyA9IHNvdXJjZS5kYXRhLmZlYXR1cmVzLm1hcChmZWF0dXJlID0+IHtcclxuICAgICAgICAgICAgaWYgKGZlYXR1cmUuZ2VvbWV0cnkudHlwZSA9PT0gJ1BvaW50Jykge1xyXG4gICAgICAgICAgICAgIHJldHVybiBmZWF0dXJlO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIHJldHVybiB0dXJmLmNlbnRyb2lkKGZlYXR1cmUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgY29uc3QgcG9pbnRzQ29sbGVjdGlvbiA9IHtcclxuICAgICAgICAgICAgdHlwZTogJ0ZlYXR1cmVDb2xsZWN0aW9uJyxcclxuICAgICAgICAgICAgZmVhdHVyZXM6IHBvaW50c1xyXG4gICAgICAgICAgfTtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgLy8gQ2FsY3VsZXIgbGVzIGxpbWl0ZXMgKGJib3gpXHJcbiAgICAgICAgICBjb25zdCBiYm94ID0gdHVyZi5iYm94KHBvaW50c0NvbGxlY3Rpb24pO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICAvLyBDcsOpZXIgbGUgZGlhZ3JhbW1lIGRlIFZvcm9ub8OvXHJcbiAgICAgICAgICBjb25zdCB2b3Jvbm9pUG9seWdvbnMgPSB0dXJmLnZvcm9ub2kocG9pbnRzQ29sbGVjdGlvbiwgeyBiYm94IH0pO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICByZXN1bHQgPSB2b3Jvbm9pUG9seWdvbnM7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICAgIFxyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFR5cGUgZCdhbmFseXNlIG5vbiBwcmlzIGVuIGNoYXJnZTogJHtzZWxlY3RlZEFuYWx5c2lzfWApO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICAvLyBBam91dGVyIGxhIGNvdWNoZSBkZSByw6lzdWx0YXRcclxuICAgICAgaWYgKHJlc3VsdCAmJiByZXN1bHQuZmVhdHVyZXMgJiYgcmVzdWx0LmZlYXR1cmVzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICBjb25zdCBsYXllclR5cGUgPSByZXN1bHQuZmVhdHVyZXNbMF0uZ2VvbWV0cnkudHlwZS5pbmNsdWRlcygnUG9seWdvbicpXHJcbiAgICAgICAgICA/ICdjaG9yb3BsZXRoJ1xyXG4gICAgICAgICAgOiByZXN1bHQuZmVhdHVyZXNbMF0uZ2VvbWV0cnkudHlwZSA9PT0gJ1BvaW50J1xyXG4gICAgICAgICAgICA/ICdwb2ludCdcclxuICAgICAgICAgICAgOiAnbGluZSc7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIGNvbnN0IG5ld0xheWVySWQgPSBhZGRMYXllcih7XHJcbiAgICAgICAgICB0aXRsZTogcmVzdWx0TmFtZSxcclxuICAgICAgICAgIHR5cGU6IGxheWVyVHlwZSxcclxuICAgICAgICAgIGRhdGE6IHJlc3VsdFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHNldFN0YXR1cyh7IFxyXG4gICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLCBcclxuICAgICAgICAgIG1lc3NhZ2U6IGBBbmFseXNlIHRlcm1pbsOpZSBhdmVjIHN1Y2PDqHMuICR7cmVzdWx0LmZlYXR1cmVzLmxlbmd0aH0gZW50aXTDqXMgY3LDqcOpZXMuYCxcclxuICAgICAgICAgIGxheWVySWQ6IG5ld0xheWVySWRcclxuICAgICAgICB9KTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBzZXRTdGF0dXMoeyBcclxuICAgICAgICAgIHR5cGU6ICd3YXJuaW5nJywgXHJcbiAgICAgICAgICBtZXNzYWdlOiAnTFxcJ2FuYWx5c2UgblxcJ2EgcHJvZHVpdCBhdWN1biByw6lzdWx0YXQuJyBcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgc2V0U3RhdHVzKHtcclxuICAgICAgICB0eXBlOiAnZXJyb3InLFxyXG4gICAgICAgIG1lc3NhZ2U6IGBFcnJldXIgbG9ycyBkZSBsJ2FuYWx5c2U6ICR7ZXJyb3IubWVzc2FnZX1gXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImZpeGVkIGluc2V0LTAgei01MCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBiZy1ibGFjayBiZy1vcGFjaXR5LTUwXCI+XHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctd2hpdGUgZGFyazpiZy1zbGF0ZS04MDAgcm91bmRlZC1sZyBzaGFkb3cteGwgdy1mdWxsIG1heC13LWxnXCI+XHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiBpdGVtcy1jZW50ZXIgcC00IGJvcmRlci1iIGJvcmRlci1zbGF0ZS0yMDAgZGFyazpib3JkZXItc2xhdGUtNzAwXCI+XHJcbiAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC1sZyBmb250LW1lZGl1bSBmbGV4IGl0ZW1zLWNlbnRlclwiPlxyXG4gICAgICAgICAgICA8RmlDcHUgY2xhc3NOYW1lPVwibXItMlwiIC8+XHJcbiAgICAgICAgICAgIEFuYWx5c2Ugc3BhdGlhbGVcclxuICAgICAgICAgIDwvaDI+XHJcbiAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgIG9uQ2xpY2s9e29uQ2xvc2V9XHJcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInAtMSByb3VuZGVkLWZ1bGwgaG92ZXI6Ymctc2xhdGUtMTAwIGRhcms6aG92ZXI6Ymctc2xhdGUtNzAwIHRyYW5zaXRpb24tY29sb3JzXCJcclxuICAgICAgICAgID5cclxuICAgICAgICAgICAgPEZpWCAvPlxyXG4gICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgXHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTRcIj5cclxuICAgICAgICAgIHsvKiBUeXBlIGQnYW5hbHlzZSAqL31cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItNFwiPlxyXG4gICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiYmxvY2sgdGV4dC1zbSBmb250LW1lZGl1bSBtYi0yXCI+VHlwZSBkJ2FuYWx5c2U8L2xhYmVsPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTMgZ2FwLTJcIj5cclxuICAgICAgICAgICAgICB7YW5hbHlzZXMubWFwKGFuYWx5c2lzID0+IChcclxuICAgICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgICAga2V5PXthbmFseXNpcy5pZH1cclxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgcC0yIGJvcmRlciByb3VuZGVkIHRleHQtc20gJHtcclxuICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZEFuYWx5c2lzID09PSBhbmFseXNpcy5pZFxyXG4gICAgICAgICAgICAgICAgICAgICAgPyAnYmctYmx1ZS0xMDAgZGFyazpiZy1ibHVlLTkwMC8zMCBib3JkZXItYmx1ZS00MDAgZGFyazpib3JkZXItYmx1ZS02MDAnXHJcbiAgICAgICAgICAgICAgICAgICAgICA6ICdib3JkZXItc2xhdGUtMzAwIGRhcms6Ym9yZGVyLXNsYXRlLTYwMCBob3ZlcjpiZy1zbGF0ZS01MCBkYXJrOmhvdmVyOmJnLXNsYXRlLTcwMCdcclxuICAgICAgICAgICAgICAgICAgfWB9XHJcbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFNlbGVjdGVkQW5hbHlzaXMoYW5hbHlzaXMuaWQpfVxyXG4gICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgaXRlbXMtY2VudGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWItMVwiPnthbmFseXNpcy5pY29ufTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICA8c3Bhbj57YW5hbHlzaXMubmFtZX08L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgKSl9XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIHsvKiBDb3VjaGUgc291cmNlICovfVxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi00XCI+XHJcbiAgICAgICAgICAgIDxsYWJlbCBodG1sRm9yPVwic291cmNlTGF5ZXJcIiBjbGFzc05hbWU9XCJibG9jayB0ZXh0LXNtIGZvbnQtbWVkaXVtIG1iLTFcIj5cclxuICAgICAgICAgICAgICBDb3VjaGUgc291cmNlXHJcbiAgICAgICAgICAgIDwvbGFiZWw+XHJcbiAgICAgICAgICAgIDxzZWxlY3RcclxuICAgICAgICAgICAgICBpZD1cInNvdXJjZUxheWVyXCJcclxuICAgICAgICAgICAgICB2YWx1ZT17c291cmNlTGF5ZXJ9XHJcbiAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRTb3VyY2VMYXllcihlLnRhcmdldC52YWx1ZSl9XHJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHAtMiBib3JkZXIgYm9yZGVyLXNsYXRlLTMwMCBkYXJrOmJvcmRlci1zbGF0ZS02MDAgcm91bmRlZCBiZy13aGl0ZSBkYXJrOmJnLXNsYXRlLTcwMCB0ZXh0LWJsYWNrIGRhcms6dGV4dC13aGl0ZVwiXHJcbiAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiXCI+U8OpbGVjdGlvbm5lciB1bmUgY291Y2hlPC9vcHRpb24+XHJcbiAgICAgICAgICAgICAge2xheWVycy5tYXAobGF5ZXIgPT4gKFxyXG4gICAgICAgICAgICAgICAgPG9wdGlvbiBrZXk9e2xheWVyLmlkfSB2YWx1ZT17bGF5ZXIuaWR9PlxyXG4gICAgICAgICAgICAgICAgICB7bGF5ZXIudGl0bGUgfHwgbGF5ZXIuaWR9XHJcbiAgICAgICAgICAgICAgICA8L29wdGlvbj5cclxuICAgICAgICAgICAgICApKX1cclxuICAgICAgICAgICAgPC9zZWxlY3Q+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIFxyXG4gICAgICAgICAgey8qIENvdWNoZSBjaWJsZSAocG91ciBjZXJ0YWluZXMgYW5hbHlzZXMpICovfVxyXG4gICAgICAgICAge1snaW50ZXJzZWN0aW9uJywgJ3VuaW9uJywgJ2RpZmZlcmVuY2UnXS5pbmNsdWRlcyhzZWxlY3RlZEFuYWx5c2lzKSAmJiAoXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItNFwiPlxyXG4gICAgICAgICAgICAgIDxsYWJlbCBodG1sRm9yPVwidGFyZ2V0TGF5ZXJcIiBjbGFzc05hbWU9XCJibG9jayB0ZXh0LXNtIGZvbnQtbWVkaXVtIG1iLTFcIj5cclxuICAgICAgICAgICAgICAgIENvdWNoZSBjaWJsZVxyXG4gICAgICAgICAgICAgIDwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgPHNlbGVjdFxyXG4gICAgICAgICAgICAgICAgaWQ9XCJ0YXJnZXRMYXllclwiXHJcbiAgICAgICAgICAgICAgICB2YWx1ZT17dGFyZ2V0TGF5ZXJ9XHJcbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldFRhcmdldExheWVyKGUudGFyZ2V0LnZhbHVlKX1cclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBwLTIgYm9yZGVyIGJvcmRlci1zbGF0ZS0zMDAgZGFyazpib3JkZXItc2xhdGUtNjAwIHJvdW5kZWQgYmctd2hpdGUgZGFyazpiZy1zbGF0ZS03MDAgdGV4dC1ibGFjayBkYXJrOnRleHQtd2hpdGVcIlxyXG4gICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJcIj5Tw6lsZWN0aW9ubmVyIHVuZSBjb3VjaGU8L29wdGlvbj5cclxuICAgICAgICAgICAgICAgIHtsYXllcnMuZmlsdGVyKGwgPT4gbC5pZCAhPT0gc291cmNlTGF5ZXIpLm1hcChsYXllciA9PiAoXHJcbiAgICAgICAgICAgICAgICAgIDxvcHRpb24ga2V5PXtsYXllci5pZH0gdmFsdWU9e2xheWVyLmlkfT5cclxuICAgICAgICAgICAgICAgICAgICB7bGF5ZXIudGl0bGUgfHwgbGF5ZXIuaWR9XHJcbiAgICAgICAgICAgICAgICAgIDwvb3B0aW9uPlxyXG4gICAgICAgICAgICAgICAgKSl9XHJcbiAgICAgICAgICAgICAgPC9zZWxlY3Q+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgKX1cclxuICAgICAgICAgIFxyXG4gICAgICAgICAgey8qIFBhcmFtw6h0cmVzIHNww6ljaWZpcXVlcyDDoCBsJ2FuYWx5c2UgKi99XHJcbiAgICAgICAgICB7c2VsZWN0ZWRBbmFseXNpcyA9PT0gJ2J1ZmZlcicgJiYgKFxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLTRcIj5cclxuICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiYmxvY2sgdGV4dC1zbSBmb250LW1lZGl1bSBtYi0xXCI+RGlzdGFuY2UgZGUgbGEgem9uZSB0YW1wb248L2xhYmVsPlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBzcGFjZS14LTJcIj5cclxuICAgICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgICB0eXBlPVwibnVtYmVyXCJcclxuICAgICAgICAgICAgICAgICAgdmFsdWU9e2J1ZmZlckRpc3RhbmNlfVxyXG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldEJ1ZmZlckRpc3RhbmNlKE51bWJlcihlLnRhcmdldC52YWx1ZSkpfVxyXG4gICAgICAgICAgICAgICAgICBtaW49XCIwLjFcIlxyXG4gICAgICAgICAgICAgICAgICBzdGVwPVwiMC4xXCJcclxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmxleC0xIHAtMiBib3JkZXIgYm9yZGVyLXNsYXRlLTMwMCBkYXJrOmJvcmRlci1zbGF0ZS02MDAgcm91bmRlZCBiZy13aGl0ZSBkYXJrOmJnLXNsYXRlLTcwMCB0ZXh0LWJsYWNrIGRhcms6dGV4dC13aGl0ZVwiXHJcbiAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgPHNlbGVjdFxyXG4gICAgICAgICAgICAgICAgICB2YWx1ZT17YnVmZmVyVW5pdH1cclxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRCdWZmZXJVbml0KGUudGFyZ2V0LnZhbHVlKX1cclxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicC0yIGJvcmRlciBib3JkZXItc2xhdGUtMzAwIGRhcms6Ym9yZGVyLXNsYXRlLTYwMCByb3VuZGVkIGJnLXdoaXRlIGRhcms6Ymctc2xhdGUtNzAwIHRleHQtYmxhY2sgZGFyazp0ZXh0LXdoaXRlXCJcclxuICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cImtpbG9tZXRlcnNcIj5raWxvbcOodHJlczwvb3B0aW9uPlxyXG4gICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwibWV0ZXJzXCI+bcOodHJlczwvb3B0aW9uPlxyXG4gICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwibWlsZXNcIj5taWxlczwvb3B0aW9uPlxyXG4gICAgICAgICAgICAgICAgPC9zZWxlY3Q+XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgKX1cclxuICAgICAgICAgIFxyXG4gICAgICAgICAgey8qIE5vbSBkdSByw6lzdWx0YXQgKi99XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLTRcIj5cclxuICAgICAgICAgICAgPGxhYmVsIGh0bWxGb3I9XCJyZXN1bHROYW1lXCIgY2xhc3NOYW1lPVwiYmxvY2sgdGV4dC1zbSBmb250LW1lZGl1bSBtYi0xXCI+XHJcbiAgICAgICAgICAgICAgTm9tIGRlIGxhIGNvdWNoZSByw6lzdWx0YW50ZVxyXG4gICAgICAgICAgICA8L2xhYmVsPlxyXG4gICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXHJcbiAgICAgICAgICAgICAgaWQ9XCJyZXN1bHROYW1lXCJcclxuICAgICAgICAgICAgICB2YWx1ZT17cmVzdWx0TmFtZX1cclxuICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldFJlc3VsdE5hbWUoZS50YXJnZXQudmFsdWUpfVxyXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBwLTIgYm9yZGVyIGJvcmRlci1zbGF0ZS0zMDAgZGFyazpib3JkZXItc2xhdGUtNjAwIHJvdW5kZWQgYmctd2hpdGUgZGFyazpiZy1zbGF0ZS03MDAgdGV4dC1ibGFjayBkYXJrOnRleHQtd2hpdGVcIlxyXG4gICAgICAgICAgICAvPlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIHsvKiBTdGF0dXQgZGUgbCdhbmFseXNlICovfVxyXG4gICAgICAgICAge3N0YXR1cyAmJiAoXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgcC0zIG1iLTQgcm91bmRlZCB0ZXh0LXNtICR7XHJcbiAgICAgICAgICAgICAgc3RhdHVzLnR5cGUgPT09ICdlcnJvcicgPyAnYmctcmVkLTEwMCBkYXJrOmJnLXJlZC05MDAvMzAgdGV4dC1yZWQtNzAwIGRhcms6dGV4dC1yZWQtMzAwJyA6IFxyXG4gICAgICAgICAgICAgIHN0YXR1cy50eXBlID09PSAnc3VjY2VzcycgPyAnYmctZ3JlZW4tMTAwIGRhcms6YmctZ3JlZW4tOTAwLzMwIHRleHQtZ3JlZW4tNzAwIGRhcms6dGV4dC1ncmVlbi0zMDAnIDpcclxuICAgICAgICAgICAgICBzdGF0dXMudHlwZSA9PT0gJ3dhcm5pbmcnID8gJ2JnLXllbGxvdy0xMDAgZGFyazpiZy15ZWxsb3ctOTAwLzMwIHRleHQteWVsbG93LTcwMCBkYXJrOnRleHQteWVsbG93LTMwMCcgOlxyXG4gICAgICAgICAgICAgICdiZy1ibHVlLTEwMCBkYXJrOmJnLWJsdWUtOTAwLzMwIHRleHQtYmx1ZS03MDAgZGFyazp0ZXh0LWJsdWUtMzAwJ1xyXG4gICAgICAgICAgICB9YH0+XHJcbiAgICAgICAgICAgICAge3N0YXR1cy5tZXNzYWdlfVxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICl9XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIHsvKiBBY3Rpb25zICovfVxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktZW5kIHNwYWNlLXgtMlwiPlxyXG4gICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgb25DbGljaz17b25DbG9zZX1cclxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJweC00IHB5LTIgYm9yZGVyIGJvcmRlci1zbGF0ZS0zMDAgZGFyazpib3JkZXItc2xhdGUtNjAwIHJvdW5kZWQgaG92ZXI6Ymctc2xhdGUtNTAgZGFyazpob3ZlcjpiZy1zbGF0ZS03MDAgdHJhbnNpdGlvbi1jb2xvcnNcIlxyXG4gICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgRmVybWVyXHJcbiAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgb25DbGljaz17cnVuQW5hbHlzaXN9XHJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtNCBweS0yIGJnLWJsdWUtNjAwIHRleHQtd2hpdGUgcm91bmRlZCBob3ZlcjpiZy1ibHVlLTcwMCB0cmFuc2l0aW9uLWNvbG9ycyBmbGV4IGl0ZW1zLWNlbnRlclwiXHJcbiAgICAgICAgICAgICAgZGlzYWJsZWQ9eyFzb3VyY2VMYXllciB8fCAoWydpbnRlcnNlY3Rpb24nLCAndW5pb24nLCAnZGlmZmVyZW5jZSddLmluY2x1ZGVzKHNlbGVjdGVkQW5hbHlzaXMpICYmICF0YXJnZXRMYXllcil9XHJcbiAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICA8RmlCYXJDaGFydDIgY2xhc3NOYW1lPVwibXItMlwiIC8+XHJcbiAgICAgICAgICAgICAgRXjDqWN1dGVyIGwnYW5hbHlzZVxyXG4gICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L2Rpdj5cclxuICAgIDwvZGl2PlxyXG4gICk7XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBTcGF0aWFsQW5hbHlzaXM7Il0sIm5hbWVzIjpbIlJlYWN0IiwidXNlU3RhdGUiLCJGaVgiLCJGaUNwdSIsIkZpQmFyQ2hhcnQyIiwiRmlTZWFyY2giLCJGaVBsdXMiLCJGaU1hcCIsInVzZUxheWVyTWFuYWdlciIsInR1cmYiLCJTcGF0aWFsQW5hbHlzaXMiLCJvbkNsb3NlIiwibGF5ZXJzIiwiYWRkTGF5ZXIiLCJzZWxlY3RlZEFuYWx5c2lzIiwic2V0U2VsZWN0ZWRBbmFseXNpcyIsInNvdXJjZUxheWVyIiwic2V0U291cmNlTGF5ZXIiLCJ0YXJnZXRMYXllciIsInNldFRhcmdldExheWVyIiwiYnVmZmVyRGlzdGFuY2UiLCJzZXRCdWZmZXJEaXN0YW5jZSIsImJ1ZmZlclVuaXQiLCJzZXRCdWZmZXJVbml0IiwicmVzdWx0TmFtZSIsInNldFJlc3VsdE5hbWUiLCJzdGF0dXMiLCJzZXRTdGF0dXMiLCJhbmFseXNlcyIsImlkIiwibmFtZSIsImljb24iLCJydW5BbmFseXNpcyIsInR5cGUiLCJtZXNzYWdlIiwiRXJyb3IiLCJzb3VyY2UiLCJmaW5kIiwibCIsImRhdGEiLCJyZXN1bHQiLCJmZWF0dXJlcyIsIm1hcCIsImZlYXR1cmUiLCJidWZmZXIiLCJ1bml0cyIsImNlbnRyb2lkIiwicHJvcGVydGllcyIsInRhcmdldCIsInNvdXJjZUZlYXR1cmVzIiwidGFyZ2V0RmVhdHVyZXMiLCJpbnRlcnNlY3Rpb25GZWF0dXJlcyIsInNvdXJjZUZlYXR1cmUiLCJ0YXJnZXRGZWF0dXJlIiwiaW50ZXJzZWN0aW9uIiwiaW50ZXJzZWN0Iiwic291cmNlX25hbWUiLCJ0aXRsZSIsInRhcmdldF9uYW1lIiwicHVzaCIsImVyciIsImNvbnNvbGUiLCJ3YXJuIiwidGFyZ2V0Rm9yVW5pb24iLCJjb21iaW5lZCIsInVuaW9uIiwidGFyZ2V0Rm9yRGlmZiIsImRpZmZGZWF0dXJlcyIsImN1cnJlbnRGZWF0dXJlIiwiZGlmZiIsImRpZmZlcmVuY2UiLCJwb2ludHMiLCJnZW9tZXRyeSIsInBvaW50c0NvbGxlY3Rpb24iLCJiYm94Iiwidm9yb25vaVBvbHlnb25zIiwidm9yb25vaSIsImxlbmd0aCIsImxheWVyVHlwZSIsImluY2x1ZGVzIiwibmV3TGF5ZXJJZCIsImxheWVySWQiLCJlcnJvciIsImRpdiIsImNsYXNzTmFtZSIsImgyIiwiYnV0dG9uIiwib25DbGljayIsImxhYmVsIiwiYW5hbHlzaXMiLCJzcGFuIiwiaHRtbEZvciIsInNlbGVjdCIsInZhbHVlIiwib25DaGFuZ2UiLCJlIiwib3B0aW9uIiwibGF5ZXIiLCJmaWx0ZXIiLCJpbnB1dCIsIk51bWJlciIsIm1pbiIsInN0ZXAiLCJkaXNhYmxlZCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./components/Analysis/SpatialAnalysis.jsx\n");

/***/ }),

/***/ "./hooks/useLayerManager.js":
/*!**********************************!*\
  !*** ./hooks/useLayerManager.js ***!
  \**********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var zustand__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! zustand */ \"zustand\");\n/* harmony import */ var nanoid__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! nanoid */ \"nanoid\");\n/* harmony import */ var _turf_turf__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @turf/turf */ \"@turf/turf\");\n/* harmony import */ var d3_scale_chromatic__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! d3-scale-chromatic */ \"d3-scale-chromatic\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([zustand__WEBPACK_IMPORTED_MODULE_0__, nanoid__WEBPACK_IMPORTED_MODULE_1__, _turf_turf__WEBPACK_IMPORTED_MODULE_2__, d3_scale_chromatic__WEBPACK_IMPORTED_MODULE_3__]);\n([zustand__WEBPACK_IMPORTED_MODULE_0__, nanoid__WEBPACK_IMPORTED_MODULE_1__, _turf_turf__WEBPACK_IMPORTED_MODULE_2__, d3_scale_chromatic__WEBPACK_IMPORTED_MODULE_3__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\n// Store pour la gestion avancée des couches\nconst useLayerManager = (0,zustand__WEBPACK_IMPORTED_MODULE_0__.create)((set, get)=>({\n        // État des couches\n        layers: [],\n        visibleLayers: [],\n        activeLayer: null,\n        lockedLayers: [],\n        layerGroups: [],\n        layerOrder: [],\n        // Options globales d'affichage\n        globalOpacity: 1.0,\n        // Récupérer les couches actives pour deck.gl\n        get activeLayers () {\n            const layers = get().layers;\n            const visibleLayers = get().visibleLayers;\n            const layerOrder = get().layerOrder;\n            // Filtrer les couches visibles et les trier selon l'ordre défini\n            const activeLayerObjects = layers.filter((layer)=>visibleLayers.includes(layer.id)).sort((a, b)=>{\n                const indexA = layerOrder.indexOf(a.id);\n                const indexB = layerOrder.indexOf(b.id);\n                return (indexA === -1 ? Infinity : indexA) - (indexB === -1 ? Infinity : indexB);\n            });\n            // Générer les couches deck.gl\n            return activeLayerObjects.map((layer)=>layer.deckGlLayer);\n        },\n        // Ajouter une nouvelle couche\n        addLayer: (layerConfig)=>{\n            const id = layerConfig.id || (0,nanoid__WEBPACK_IMPORTED_MODULE_1__.nanoid)();\n            const defaultStyle = getDefaultStyle(layerConfig.type);\n            const newLayer = {\n                ...layerConfig,\n                id,\n                style: layerConfig.style || defaultStyle,\n                metadata: {\n                    ...layerConfig.metadata,\n                    createdAt: Date.now()\n                }\n            };\n            // Générer la couche deck.gl initiale\n            newLayer.deckGlLayer = generateDeckGlLayer(newLayer);\n            set((state)=>{\n                // Ajouter la couche en haut (au début) de l'ordre d'affichage\n                const newLayerOrder = [\n                    id,\n                    ...state.layerOrder\n                ];\n                return {\n                    layers: [\n                        ...state.layers,\n                        newLayer\n                    ],\n                    visibleLayers: [\n                        ...state.visibleLayers,\n                        id\n                    ],\n                    activeLayer: id,\n                    layerOrder: newLayerOrder\n                };\n            });\n            return id;\n        },\n        // Reste du code inchangé...\n        // Supprimer une couche\n        removeLayer: (layerId)=>{\n            set((state)=>({\n                    layers: state.layers.filter((layer)=>layer.id !== layerId),\n                    visibleLayers: state.visibleLayers.filter((id)=>id !== layerId),\n                    activeLayer: state.activeLayer === layerId ? null : state.activeLayer,\n                    layerOrder: state.layerOrder.filter((id)=>id !== layerId)\n                }));\n        },\n        // Définir les couches (remplacement complet)\n        setLayers: (layers)=>{\n            const procesedLayers = layers.map((layer)=>({\n                    ...layer,\n                    deckGlLayer: generateDeckGlLayer(layer)\n                }));\n            set((state)=>{\n                // Reconstruire l'ordre des couches\n                const layerOrder = procesedLayers.map((layer)=>layer.id);\n                return {\n                    layers: procesedLayers,\n                    layerOrder,\n                    // Conserver seulement les couches visibles qui existent encore\n                    visibleLayers: state.visibleLayers.filter((id)=>procesedLayers.some((layer)=>layer.id === id))\n                };\n            });\n        },\n        // Définir la couche active\n        setActiveLayer: (layerId)=>{\n            set({\n                activeLayer: layerId\n            });\n        },\n        // Définir les couches visibles\n        setVisibleLayers: (visibleLayers)=>{\n            set({\n                visibleLayers\n            });\n        },\n        // Basculer la visibilité d'une couche\n        toggleLayerVisibility: (layerId)=>{\n            set((state)=>{\n                const isVisible = state.visibleLayers.includes(layerId);\n                return {\n                    visibleLayers: isVisible ? state.visibleLayers.filter((id)=>id !== layerId) : [\n                        ...state.visibleLayers,\n                        layerId\n                    ]\n                };\n            });\n        },\n        // Mettre à jour le style d'une couche\n        updateLayerStyle: (layerId, styleUpdates)=>{\n            set((state)=>{\n                const updatedLayers = state.layers.map((layer)=>{\n                    if (layer.id !== layerId) return layer;\n                    const updatedLayer = {\n                        ...layer,\n                        style: {\n                            ...layer.style,\n                            ...styleUpdates\n                        }\n                    };\n                    // Regenerer la couche deck.gl avec le nouveau style\n                    updatedLayer.deckGlLayer = generateDeckGlLayer(updatedLayer);\n                    return updatedLayer;\n                });\n                return {\n                    layers: updatedLayers\n                };\n            });\n        },\n        // Mettre à jour les données d'une couche\n        updateLayerData: (layerId, data)=>{\n            set((state)=>{\n                const updatedLayers = state.layers.map((layer)=>{\n                    if (layer.id !== layerId) return layer;\n                    const updatedLayer = {\n                        ...layer,\n                        data\n                    };\n                    // Regenerer la couche deck.gl avec les nouvelles données\n                    updatedLayer.deckGlLayer = generateDeckGlLayer(updatedLayer);\n                    return updatedLayer;\n                });\n                return {\n                    layers: updatedLayers\n                };\n            });\n        },\n        // Mettre à jour les métadonnées d'une couche\n        updateLayerMetadata: (layerId, metadata)=>{\n            set((state)=>({\n                    layers: state.layers.map((layer)=>layer.id === layerId ? {\n                            ...layer,\n                            metadata: {\n                                ...layer.metadata,\n                                ...metadata\n                            }\n                        } : layer)\n                }));\n        },\n        // Appliquer un filtre à une couche\n        updateLayerFilter: (layerId, filter)=>{\n            set((state)=>{\n                const updatedLayers = state.layers.map((layer)=>{\n                    if (layer.id !== layerId) return layer;\n                    const updatedLayer = {\n                        ...layer,\n                        filter\n                    };\n                    // Regenerer la couche deck.gl avec le nouveau filtre\n                    updatedLayer.deckGlLayer = generateDeckGlLayer(updatedLayer);\n                    return updatedLayer;\n                });\n                return {\n                    layers: updatedLayers\n                };\n            });\n        },\n        // Verrouiller/déverrouiller une couche\n        lockLayer: (layerId, isLocked)=>{\n            set((state)=>({\n                    lockedLayers: isLocked ? [\n                        ...state.lockedLayers,\n                        layerId\n                    ] : state.lockedLayers.filter((id)=>id !== layerId)\n                }));\n        },\n        // Créer un groupe de couches\n        createLayerGroup: (name, layerIds)=>{\n            const groupId = (0,nanoid__WEBPACK_IMPORTED_MODULE_1__.nanoid)();\n            set((state)=>({\n                    layerGroups: [\n                        ...state.layerGroups,\n                        {\n                            id: groupId,\n                            name,\n                            layers: layerIds\n                        }\n                    ]\n                }));\n            return groupId;\n        },\n        // Mettre à jour un groupe de couches\n        updateLayerGroup: (groupId, updates)=>{\n            set((state)=>({\n                    layerGroups: state.layerGroups.map((group)=>group.id === groupId ? {\n                            ...group,\n                            ...updates\n                        } : group)\n                }));\n        },\n        // Supprimer un groupe de couches\n        removeLayerGroup: (groupId)=>{\n            set((state)=>({\n                    layerGroups: state.layerGroups.filter((group)=>group.id !== groupId)\n                }));\n        },\n        // Réordonner les couches\n        reorderLayers: (layerOrder)=>{\n            set({\n                layerOrder\n            });\n        },\n        // Monter une couche dans l'ordre d'affichage (la rendre plus visible)\n        moveLayerUp: (layerId)=>{\n            set((state)=>{\n                const currentOrder = [\n                    ...state.layerOrder\n                ];\n                const index = currentOrder.indexOf(layerId);\n                if (index <= 0) return state; // Déjà tout en haut\n                // Échanger avec la couche au-dessus\n                [currentOrder[index], currentOrder[index - 1]] = [\n                    currentOrder[index - 1],\n                    currentOrder[index]\n                ];\n                return {\n                    layerOrder: currentOrder\n                };\n            });\n        },\n        // Descendre une couche dans l'ordre d'affichage (la rendre moins visible)\n        moveLayerDown: (layerId)=>{\n            set((state)=>{\n                const currentOrder = [\n                    ...state.layerOrder\n                ];\n                const index = currentOrder.indexOf(layerId);\n                if (index === -1 || index >= currentOrder.length - 1) return state; // Déjà tout en bas\n                // Échanger avec la couche en-dessous\n                [currentOrder[index], currentOrder[index + 1]] = [\n                    currentOrder[index + 1],\n                    currentOrder[index]\n                ];\n                return {\n                    layerOrder: currentOrder\n                };\n            });\n        },\n        // Dupliquer une couche\n        duplicateLayer: (layerId)=>{\n            const layers = get().layers;\n            const layerToDuplicate = layers.find((layer)=>layer.id === layerId);\n            if (!layerToDuplicate) return null;\n            const duplicatedLayer = {\n                ...layerToDuplicate,\n                id: (0,nanoid__WEBPACK_IMPORTED_MODULE_1__.nanoid)(),\n                title: `${layerToDuplicate.title || layerId} (copie)`,\n                metadata: {\n                    ...layerToDuplicate.metadata,\n                    createdAt: Date.now(),\n                    isDuplicate: true,\n                    originalLayer: layerId\n                }\n            };\n            // Générer la nouvelle couche deck.gl\n            duplicatedLayer.deckGlLayer = generateDeckGlLayer(duplicatedLayer);\n            set((state)=>{\n                // Insérer la copie juste après l'original dans l'ordre des couches\n                const currentOrder = [\n                    ...state.layerOrder\n                ];\n                const insertIndex = currentOrder.indexOf(layerId);\n                if (insertIndex !== -1) {\n                    currentOrder.splice(insertIndex + 1, 0, duplicatedLayer.id);\n                } else {\n                    currentOrder.unshift(duplicatedLayer.id);\n                }\n                return {\n                    layers: [\n                        ...state.layers,\n                        duplicatedLayer\n                    ],\n                    visibleLayers: [\n                        ...state.visibleLayers,\n                        duplicatedLayer.id\n                    ],\n                    layerOrder: currentOrder\n                };\n            });\n            return duplicatedLayer.id;\n        },\n        // Activer/désactiver le mode temporel pour une couche\n        toggleTimeEnabled: (layerId, enabled)=>{\n            set((state)=>({\n                    layers: state.layers.map((layer)=>layer.id === layerId ? {\n                            ...layer,\n                            timeEnabled: enabled,\n                            deckGlLayer: generateDeckGlLayer({\n                                ...layer,\n                                timeEnabled: enabled\n                            })\n                        } : layer)\n                }));\n        },\n        // Exporter une définition de couche (pour sauvegarde ou partage)\n        exportLayerDefinition: (layerId)=>{\n            const layer = get().layers.find((l)=>l.id === layerId);\n            if (!layer) return null;\n            // Créer une version serialisable de la couche (sans les fonctions ou objets complexes)\n            const exportableDef = {\n                id: layer.id,\n                title: layer.title,\n                type: layer.type,\n                style: layer.style,\n                metadata: layer.metadata,\n                filter: layer.filter,\n                timeEnabled: layer.timeEnabled\n            };\n            return exportableDef;\n        },\n        // Importer une définition de couche\n        importLayerDefinition: (definition, data)=>{\n            // Créer une couche à partir de la définition\n            const layerConfig = {\n                ...definition,\n                id: definition.id || (0,nanoid__WEBPACK_IMPORTED_MODULE_1__.nanoid)(),\n                data\n            };\n            return get().addLayer(layerConfig);\n        }\n    }));\n// Fonctions utilitaires\n// Générer un style par défaut selon le type de couche\nfunction getDefaultStyle(layerType) {\n    // Couleurs par défaut par type\n    const defaultColors = {\n        choropleth: [\n            158,\n            202,\n            225,\n            180\n        ],\n        point: [\n            33,\n            113,\n            181,\n            255\n        ],\n        heatmap: d3_scale_chromatic__WEBPACK_IMPORTED_MODULE_3__.schemeViridis[9],\n        cluster: d3_scale_chromatic__WEBPACK_IMPORTED_MODULE_3__.schemeBlues[9],\n        line: [\n            106,\n            137,\n            204,\n            255\n        ],\n        polygon: [\n            43,\n            140,\n            190,\n            180\n        ],\n        \"3d\": [\n            65,\n            182,\n            196,\n            200\n        ],\n        hexagon: d3_scale_chromatic__WEBPACK_IMPORTED_MODULE_3__.schemeGreens[9],\n        grid: d3_scale_chromatic__WEBPACK_IMPORTED_MODULE_3__.schemeReds[9],\n        contour: d3_scale_chromatic__WEBPACK_IMPORTED_MODULE_3__.schemeViridis[9],\n        trips: [\n            255,\n            140,\n            0,\n            220\n        ],\n        h3: d3_scale_chromatic__WEBPACK_IMPORTED_MODULE_3__.schemePurples[9],\n        text: [\n            0,\n            0,\n            0,\n            255\n        ],\n        icon: [\n            67,\n            67,\n            67,\n            255\n        ],\n        screenGrid: d3_scale_chromatic__WEBPACK_IMPORTED_MODULE_3__.schemeReds[9],\n        terrain: [\n            96,\n            125,\n            139,\n            255\n        ] // Bleu-gris\n    };\n    // Style de base\n    const baseStyle = {\n        opacity: 0.8,\n        color: defaultColors[layerType] || [\n            100,\n            100,\n            100,\n            255\n        ],\n        colorField: null,\n        colorScale: \"sequential\",\n        colorRange: d3_scale_chromatic__WEBPACK_IMPORTED_MODULE_3__.schemeBlues[9],\n        reverseColorScale: false,\n        radius: 100,\n        lineWidth: 1,\n        elevationScale: 1,\n        extruded: layerType === \"3d\" || layerType === \"hexagon\" || layerType === \"grid\",\n        classificationMethod: \"quantile\",\n        cellSize: 1000\n    };\n    // Styles spécifiques selon le type\n    switch(layerType){\n        case \"point\":\n            return {\n                ...baseStyle,\n                radius: 5,\n                radiusUnits: \"pixels\",\n                radiusMinPixels: 2,\n                radiusMaxPixels: 20\n            };\n        case \"choropleth\":\n            return {\n                ...baseStyle,\n                strokeColor: [\n                    255,\n                    255,\n                    255,\n                    100\n                ],\n                strokeWidth: 1,\n                filled: true,\n                stroked: true\n            };\n        case \"heatmap\":\n            return {\n                ...baseStyle,\n                radius: 30,\n                intensity: 1,\n                colorRange: d3_scale_chromatic__WEBPACK_IMPORTED_MODULE_3__.schemeViridis[9],\n                threshold: 0.05\n            };\n        case \"cluster\":\n        case \"grid\":\n            return {\n                ...baseStyle,\n                cellSize: 1000,\n                coverage: 0.8,\n                elevationScale: 1,\n                extruded: true\n            };\n        case \"hexagon\":\n            return {\n                ...baseStyle,\n                cellSize: 1000,\n                coverage: 0.9,\n                elevationScale: 1,\n                extruded: true,\n                colorRange: d3_scale_chromatic__WEBPACK_IMPORTED_MODULE_3__.schemeGreens[9]\n            };\n        case \"3d\":\n            return {\n                ...baseStyle,\n                extruded: true,\n                elevationScale: 1,\n                material: {\n                    ambient: 0.4,\n                    diffuse: 0.6,\n                    shininess: 32,\n                    specularColor: [\n                        30,\n                        30,\n                        30\n                    ]\n                }\n            };\n        case \"line\":\n            return {\n                ...baseStyle,\n                lineWidth: 2,\n                widthUnits: \"pixels\",\n                widthScale: 1,\n                widthMinPixels: 1,\n                widthMaxPixels: 10\n            };\n        case \"trips\":\n            return {\n                ...baseStyle,\n                trailLength: 10,\n                currentTime: 0,\n                widthMinPixels: 2,\n                rounded: true\n            };\n        default:\n            return baseStyle;\n    }\n}\n// Générer une couche deck.gl à partir d'une configuration de couche\nfunction generateDeckGlLayer(layer) {\n    // Cette fonction devrait utiliser les informations de la couche\n    // pour générer l'objet deck.gl correspondant\n    // Note: Ceci est un squelette, l'implémentation réelle dépendrait \n    // du code de visualisation de l'application\n    return {\n        id: layer.id,\n        type: layer.type,\n        data: layer.data,\n        style: layer.style\n    };\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (useLayerManager);\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ob29rcy91c2VMYXllck1hbmFnZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBaUM7QUFDRDtBQUNHO0FBQ3NFO0FBRXpHLDRDQUE0QztBQUM1QyxNQUFNUSxrQkFBa0JSLCtDQUFNQSxDQUFDLENBQUNTLEtBQUtDLE1BQVM7UUFDNUMsbUJBQW1CO1FBQ25CQyxRQUFRLEVBQUU7UUFDVkMsZUFBZSxFQUFFO1FBQ2pCQyxhQUFhO1FBQ2JDLGNBQWMsRUFBRTtRQUNoQkMsYUFBYSxFQUFFO1FBQ2ZDLFlBQVksRUFBRTtRQUVkLCtCQUErQjtRQUMvQkMsZUFBZTtRQUVmLDZDQUE2QztRQUM3QyxJQUFJQyxnQkFBZTtZQUNqQixNQUFNUCxTQUFTRCxNQUFNQyxNQUFNO1lBQzNCLE1BQU1DLGdCQUFnQkYsTUFBTUUsYUFBYTtZQUN6QyxNQUFNSSxhQUFhTixNQUFNTSxVQUFVO1lBRW5DLGlFQUFpRTtZQUNqRSxNQUFNRyxxQkFBcUJSLE9BQ3hCUyxNQUFNLENBQUNDLENBQUFBLFFBQVNULGNBQWNVLFFBQVEsQ0FBQ0QsTUFBTUUsRUFBRSxHQUMvQ0MsSUFBSSxDQUFDLENBQUNDLEdBQUdDO2dCQUNSLE1BQU1DLFNBQVNYLFdBQVdZLE9BQU8sQ0FBQ0gsRUFBRUYsRUFBRTtnQkFDdEMsTUFBTU0sU0FBU2IsV0FBV1ksT0FBTyxDQUFDRixFQUFFSCxFQUFFO2dCQUN0QyxPQUFPLENBQUNJLFdBQVcsQ0FBQyxJQUFJRyxXQUFXSCxNQUFLLElBQU1FLENBQUFBLFdBQVcsQ0FBQyxJQUFJQyxXQUFXRCxNQUFLO1lBQ2hGO1lBRUYsOEJBQThCO1lBQzlCLE9BQU9WLG1CQUFtQlksR0FBRyxDQUFDVixDQUFBQSxRQUFTQSxNQUFNVyxXQUFXO1FBQzFEO1FBRUEsOEJBQThCO1FBQzlCQyxVQUFVLENBQUNDO1lBQ1QsTUFBTVgsS0FBS1csWUFBWVgsRUFBRSxJQUFJdEIsOENBQU1BO1lBQ25DLE1BQU1rQyxlQUFlQyxnQkFBZ0JGLFlBQVlHLElBQUk7WUFFckQsTUFBTUMsV0FBVztnQkFDZixHQUFHSixXQUFXO2dCQUNkWDtnQkFDQWdCLE9BQU9MLFlBQVlLLEtBQUssSUFBSUo7Z0JBQzVCSyxVQUFVO29CQUNSLEdBQUdOLFlBQVlNLFFBQVE7b0JBQ3ZCQyxXQUFXQyxLQUFLQyxHQUFHO2dCQUNyQjtZQUNGO1lBRUEscUNBQXFDO1lBQ3JDTCxTQUFTTixXQUFXLEdBQUdZLG9CQUFvQk47WUFFM0M3QixJQUFJb0MsQ0FBQUE7Z0JBQ0YsOERBQThEO2dCQUM5RCxNQUFNQyxnQkFBZ0I7b0JBQUN2Qjt1QkFBT3NCLE1BQU03QixVQUFVO2lCQUFDO2dCQUUvQyxPQUFPO29CQUNMTCxRQUFROzJCQUFJa0MsTUFBTWxDLE1BQU07d0JBQUUyQjtxQkFBUztvQkFDbkMxQixlQUFlOzJCQUFJaUMsTUFBTWpDLGFBQWE7d0JBQUVXO3FCQUFHO29CQUMzQ1YsYUFBYVU7b0JBQ2JQLFlBQVk4QjtnQkFDZDtZQUNGO1lBRUEsT0FBT3ZCO1FBQ1Q7UUFFQSw0QkFBNEI7UUFFNUIsdUJBQXVCO1FBQ3ZCd0IsYUFBYSxDQUFDQztZQUNadkMsSUFBSW9DLENBQUFBLFFBQVU7b0JBQ1psQyxRQUFRa0MsTUFBTWxDLE1BQU0sQ0FBQ1MsTUFBTSxDQUFDQyxDQUFBQSxRQUFTQSxNQUFNRSxFQUFFLEtBQUt5QjtvQkFDbERwQyxlQUFlaUMsTUFBTWpDLGFBQWEsQ0FBQ1EsTUFBTSxDQUFDRyxDQUFBQSxLQUFNQSxPQUFPeUI7b0JBQ3ZEbkMsYUFBYWdDLE1BQU1oQyxXQUFXLEtBQUttQyxVQUFVLE9BQU9ILE1BQU1oQyxXQUFXO29CQUNyRUcsWUFBWTZCLE1BQU03QixVQUFVLENBQUNJLE1BQU0sQ0FBQ0csQ0FBQUEsS0FBTUEsT0FBT3lCO2dCQUNuRDtRQUNGO1FBRUEsNkNBQTZDO1FBQzdDQyxXQUFXLENBQUN0QztZQUNWLE1BQU11QyxpQkFBaUJ2QyxPQUFPb0IsR0FBRyxDQUFDVixDQUFBQSxRQUFVO29CQUMxQyxHQUFHQSxLQUFLO29CQUNSVyxhQUFhWSxvQkFBb0J2QjtnQkFDbkM7WUFFQVosSUFBSW9DLENBQUFBO2dCQUNGLG1DQUFtQztnQkFDbkMsTUFBTTdCLGFBQWFrQyxlQUFlbkIsR0FBRyxDQUFDVixDQUFBQSxRQUFTQSxNQUFNRSxFQUFFO2dCQUV2RCxPQUFPO29CQUNMWixRQUFRdUM7b0JBQ1JsQztvQkFDQSwrREFBK0Q7b0JBQy9ESixlQUFlaUMsTUFBTWpDLGFBQWEsQ0FBQ1EsTUFBTSxDQUFDRyxDQUFBQSxLQUN4QzJCLGVBQWVDLElBQUksQ0FBQzlCLENBQUFBLFFBQVNBLE1BQU1FLEVBQUUsS0FBS0E7Z0JBRTlDO1lBQ0Y7UUFDRjtRQUVBLDJCQUEyQjtRQUMzQjZCLGdCQUFnQixDQUFDSjtZQUNmdkMsSUFBSTtnQkFBRUksYUFBYW1DO1lBQVE7UUFDN0I7UUFFQSwrQkFBK0I7UUFDL0JLLGtCQUFrQixDQUFDekM7WUFDakJILElBQUk7Z0JBQUVHO1lBQWM7UUFDdEI7UUFFQSxzQ0FBc0M7UUFDdEMwQyx1QkFBdUIsQ0FBQ047WUFDdEJ2QyxJQUFJb0MsQ0FBQUE7Z0JBQ0YsTUFBTVUsWUFBWVYsTUFBTWpDLGFBQWEsQ0FBQ1UsUUFBUSxDQUFDMEI7Z0JBRS9DLE9BQU87b0JBQ0xwQyxlQUFlMkMsWUFDWFYsTUFBTWpDLGFBQWEsQ0FBQ1EsTUFBTSxDQUFDRyxDQUFBQSxLQUFNQSxPQUFPeUIsV0FDeEM7MkJBQUlILE1BQU1qQyxhQUFhO3dCQUFFb0M7cUJBQVE7Z0JBQ3ZDO1lBQ0Y7UUFDRjtRQUVBLHNDQUFzQztRQUN0Q1Esa0JBQWtCLENBQUNSLFNBQVNTO1lBQzFCaEQsSUFBSW9DLENBQUFBO2dCQUNGLE1BQU1hLGdCQUFnQmIsTUFBTWxDLE1BQU0sQ0FBQ29CLEdBQUcsQ0FBQ1YsQ0FBQUE7b0JBQ3JDLElBQUlBLE1BQU1FLEVBQUUsS0FBS3lCLFNBQVMsT0FBTzNCO29CQUVqQyxNQUFNc0MsZUFBZTt3QkFDbkIsR0FBR3RDLEtBQUs7d0JBQ1JrQixPQUFPOzRCQUNMLEdBQUdsQixNQUFNa0IsS0FBSzs0QkFDZCxHQUFHa0IsWUFBWTt3QkFDakI7b0JBQ0Y7b0JBRUEsb0RBQW9EO29CQUNwREUsYUFBYTNCLFdBQVcsR0FBR1ksb0JBQW9CZTtvQkFFL0MsT0FBT0E7Z0JBQ1Q7Z0JBRUEsT0FBTztvQkFBRWhELFFBQVErQztnQkFBYztZQUNqQztRQUNGO1FBRUEseUNBQXlDO1FBQ3pDRSxpQkFBaUIsQ0FBQ1osU0FBU2E7WUFDekJwRCxJQUFJb0MsQ0FBQUE7Z0JBQ0YsTUFBTWEsZ0JBQWdCYixNQUFNbEMsTUFBTSxDQUFDb0IsR0FBRyxDQUFDVixDQUFBQTtvQkFDckMsSUFBSUEsTUFBTUUsRUFBRSxLQUFLeUIsU0FBUyxPQUFPM0I7b0JBRWpDLE1BQU1zQyxlQUFlO3dCQUNuQixHQUFHdEMsS0FBSzt3QkFDUndDO29CQUNGO29CQUVBLHlEQUF5RDtvQkFDekRGLGFBQWEzQixXQUFXLEdBQUdZLG9CQUFvQmU7b0JBRS9DLE9BQU9BO2dCQUNUO2dCQUVBLE9BQU87b0JBQUVoRCxRQUFRK0M7Z0JBQWM7WUFDakM7UUFDRjtRQUVBLDZDQUE2QztRQUM3Q0kscUJBQXFCLENBQUNkLFNBQVNSO1lBQzdCL0IsSUFBSW9DLENBQUFBLFFBQVU7b0JBQ1psQyxRQUFRa0MsTUFBTWxDLE1BQU0sQ0FBQ29CLEdBQUcsQ0FBQ1YsQ0FBQUEsUUFDdkJBLE1BQU1FLEVBQUUsS0FBS3lCLFVBQ1Q7NEJBQ0UsR0FBRzNCLEtBQUs7NEJBQ1JtQixVQUFVO2dDQUNSLEdBQUduQixNQUFNbUIsUUFBUTtnQ0FDakIsR0FBR0EsUUFBUTs0QkFDYjt3QkFDRixJQUNBbkI7Z0JBRVI7UUFDRjtRQUVBLG1DQUFtQztRQUNuQzBDLG1CQUFtQixDQUFDZixTQUFTNUI7WUFDM0JYLElBQUlvQyxDQUFBQTtnQkFDRixNQUFNYSxnQkFBZ0JiLE1BQU1sQyxNQUFNLENBQUNvQixHQUFHLENBQUNWLENBQUFBO29CQUNyQyxJQUFJQSxNQUFNRSxFQUFFLEtBQUt5QixTQUFTLE9BQU8zQjtvQkFFakMsTUFBTXNDLGVBQWU7d0JBQ25CLEdBQUd0QyxLQUFLO3dCQUNSRDtvQkFDRjtvQkFFQSxxREFBcUQ7b0JBQ3JEdUMsYUFBYTNCLFdBQVcsR0FBR1ksb0JBQW9CZTtvQkFFL0MsT0FBT0E7Z0JBQ1Q7Z0JBRUEsT0FBTztvQkFBRWhELFFBQVErQztnQkFBYztZQUNqQztRQUNGO1FBRUEsdUNBQXVDO1FBQ3ZDTSxXQUFXLENBQUNoQixTQUFTaUI7WUFDbkJ4RCxJQUFJb0MsQ0FBQUEsUUFBVTtvQkFDWi9CLGNBQWNtRCxXQUNWOzJCQUFJcEIsTUFBTS9CLFlBQVk7d0JBQUVrQztxQkFBUSxHQUNoQ0gsTUFBTS9CLFlBQVksQ0FBQ00sTUFBTSxDQUFDRyxDQUFBQSxLQUFNQSxPQUFPeUI7Z0JBQzdDO1FBQ0Y7UUFFQSw2QkFBNkI7UUFDN0JrQixrQkFBa0IsQ0FBQ0MsTUFBTUM7WUFDdkIsTUFBTUMsVUFBVXBFLDhDQUFNQTtZQUV0QlEsSUFBSW9DLENBQUFBLFFBQVU7b0JBQ1o5QixhQUFhOzJCQUNSOEIsTUFBTTlCLFdBQVc7d0JBQ3BCOzRCQUNFUSxJQUFJOEM7NEJBQ0pGOzRCQUNBeEQsUUFBUXlEO3dCQUNWO3FCQUNEO2dCQUNIO1lBRUEsT0FBT0M7UUFDVDtRQUVBLHFDQUFxQztRQUNyQ0Msa0JBQWtCLENBQUNELFNBQVNFO1lBQzFCOUQsSUFBSW9DLENBQUFBLFFBQVU7b0JBQ1o5QixhQUFhOEIsTUFBTTlCLFdBQVcsQ0FBQ2dCLEdBQUcsQ0FBQ3lDLENBQUFBLFFBQ2pDQSxNQUFNakQsRUFBRSxLQUFLOEMsVUFDVDs0QkFBRSxHQUFHRyxLQUFLOzRCQUFFLEdBQUdELE9BQU87d0JBQUMsSUFDdkJDO2dCQUVSO1FBQ0Y7UUFFQSxpQ0FBaUM7UUFDakNDLGtCQUFrQixDQUFDSjtZQUNqQjVELElBQUlvQyxDQUFBQSxRQUFVO29CQUNaOUIsYUFBYThCLE1BQU05QixXQUFXLENBQUNLLE1BQU0sQ0FBQ29ELENBQUFBLFFBQVNBLE1BQU1qRCxFQUFFLEtBQUs4QztnQkFDOUQ7UUFDRjtRQUVBLHlCQUF5QjtRQUN6QkssZUFBZSxDQUFDMUQ7WUFDZFAsSUFBSTtnQkFBRU87WUFBVztRQUNuQjtRQUVBLHNFQUFzRTtRQUN0RTJELGFBQWEsQ0FBQzNCO1lBQ1p2QyxJQUFJb0MsQ0FBQUE7Z0JBQ0YsTUFBTStCLGVBQWU7dUJBQUkvQixNQUFNN0IsVUFBVTtpQkFBQztnQkFDMUMsTUFBTTZELFFBQVFELGFBQWFoRCxPQUFPLENBQUNvQjtnQkFFbkMsSUFBSTZCLFNBQVMsR0FBRyxPQUFPaEMsT0FBTyxvQkFBb0I7Z0JBRWxELG9DQUFvQztnQkFDcEMsQ0FBQytCLFlBQVksQ0FBQ0MsTUFBTSxFQUFFRCxZQUFZLENBQUNDLFFBQVEsRUFBRSxDQUFDLEdBQUc7b0JBQUNELFlBQVksQ0FBQ0MsUUFBUSxFQUFFO29CQUFFRCxZQUFZLENBQUNDLE1BQU07aUJBQUM7Z0JBRS9GLE9BQU87b0JBQUU3RCxZQUFZNEQ7Z0JBQWE7WUFDcEM7UUFDRjtRQUVBLDBFQUEwRTtRQUMxRUUsZUFBZSxDQUFDOUI7WUFDZHZDLElBQUlvQyxDQUFBQTtnQkFDRixNQUFNK0IsZUFBZTt1QkFBSS9CLE1BQU03QixVQUFVO2lCQUFDO2dCQUMxQyxNQUFNNkQsUUFBUUQsYUFBYWhELE9BQU8sQ0FBQ29CO2dCQUVuQyxJQUFJNkIsVUFBVSxDQUFDLEtBQUtBLFNBQVNELGFBQWFHLE1BQU0sR0FBRyxHQUFHLE9BQU9sQyxPQUFPLG1CQUFtQjtnQkFFdkYscUNBQXFDO2dCQUNyQyxDQUFDK0IsWUFBWSxDQUFDQyxNQUFNLEVBQUVELFlBQVksQ0FBQ0MsUUFBUSxFQUFFLENBQUMsR0FBRztvQkFBQ0QsWUFBWSxDQUFDQyxRQUFRLEVBQUU7b0JBQUVELFlBQVksQ0FBQ0MsTUFBTTtpQkFBQztnQkFFL0YsT0FBTztvQkFBRTdELFlBQVk0RDtnQkFBYTtZQUNwQztRQUNGO1FBRUEsdUJBQXVCO1FBQ3ZCSSxnQkFBZ0IsQ0FBQ2hDO1lBQ2YsTUFBTXJDLFNBQVNELE1BQU1DLE1BQU07WUFDM0IsTUFBTXNFLG1CQUFtQnRFLE9BQU91RSxJQUFJLENBQUM3RCxDQUFBQSxRQUFTQSxNQUFNRSxFQUFFLEtBQUt5QjtZQUUzRCxJQUFJLENBQUNpQyxrQkFBa0IsT0FBTztZQUU5QixNQUFNRSxrQkFBa0I7Z0JBQ3RCLEdBQUdGLGdCQUFnQjtnQkFDbkIxRCxJQUFJdEIsOENBQU1BO2dCQUNWbUYsT0FBTyxDQUFDLEVBQUVILGlCQUFpQkcsS0FBSyxJQUFJcEMsUUFBUSxRQUFRLENBQUM7Z0JBQ3JEUixVQUFVO29CQUNSLEdBQUd5QyxpQkFBaUJ6QyxRQUFRO29CQUM1QkMsV0FBV0MsS0FBS0MsR0FBRztvQkFDbkIwQyxhQUFhO29CQUNiQyxlQUFldEM7Z0JBQ2pCO1lBQ0Y7WUFFQSxxQ0FBcUM7WUFDckNtQyxnQkFBZ0JuRCxXQUFXLEdBQUdZLG9CQUFvQnVDO1lBRWxEMUUsSUFBSW9DLENBQUFBO2dCQUNGLG1FQUFtRTtnQkFDbkUsTUFBTStCLGVBQWU7dUJBQUkvQixNQUFNN0IsVUFBVTtpQkFBQztnQkFDMUMsTUFBTXVFLGNBQWNYLGFBQWFoRCxPQUFPLENBQUNvQjtnQkFFekMsSUFBSXVDLGdCQUFnQixDQUFDLEdBQUc7b0JBQ3RCWCxhQUFhWSxNQUFNLENBQUNELGNBQWMsR0FBRyxHQUFHSixnQkFBZ0I1RCxFQUFFO2dCQUM1RCxPQUFPO29CQUNMcUQsYUFBYWEsT0FBTyxDQUFDTixnQkFBZ0I1RCxFQUFFO2dCQUN6QztnQkFFQSxPQUFPO29CQUNMWixRQUFROzJCQUFJa0MsTUFBTWxDLE1BQU07d0JBQUV3RTtxQkFBZ0I7b0JBQzFDdkUsZUFBZTsyQkFBSWlDLE1BQU1qQyxhQUFhO3dCQUFFdUUsZ0JBQWdCNUQsRUFBRTtxQkFBQztvQkFDM0RQLFlBQVk0RDtnQkFDZDtZQUNGO1lBRUEsT0FBT08sZ0JBQWdCNUQsRUFBRTtRQUMzQjtRQUVBLHNEQUFzRDtRQUN0RG1FLG1CQUFtQixDQUFDMUMsU0FBUzJDO1lBQzNCbEYsSUFBSW9DLENBQUFBLFFBQVU7b0JBQ1psQyxRQUFRa0MsTUFBTWxDLE1BQU0sQ0FBQ29CLEdBQUcsQ0FBQ1YsQ0FBQUEsUUFDdkJBLE1BQU1FLEVBQUUsS0FBS3lCLFVBQ1Q7NEJBQ0UsR0FBRzNCLEtBQUs7NEJBQ1J1RSxhQUFhRDs0QkFDYjNELGFBQWFZLG9CQUFvQjtnQ0FDL0IsR0FBR3ZCLEtBQUs7Z0NBQ1J1RSxhQUFhRDs0QkFDZjt3QkFDRixJQUNBdEU7Z0JBRVI7UUFDRjtRQUVBLGlFQUFpRTtRQUNqRXdFLHVCQUF1QixDQUFDN0M7WUFDdEIsTUFBTTNCLFFBQVFYLE1BQU1DLE1BQU0sQ0FBQ3VFLElBQUksQ0FBQ1ksQ0FBQUEsSUFBS0EsRUFBRXZFLEVBQUUsS0FBS3lCO1lBQzlDLElBQUksQ0FBQzNCLE9BQU8sT0FBTztZQUVuQix1RkFBdUY7WUFDdkYsTUFBTTBFLGdCQUFnQjtnQkFDcEJ4RSxJQUFJRixNQUFNRSxFQUFFO2dCQUNaNkQsT0FBTy9ELE1BQU0rRCxLQUFLO2dCQUNsQi9DLE1BQU1oQixNQUFNZ0IsSUFBSTtnQkFDaEJFLE9BQU9sQixNQUFNa0IsS0FBSztnQkFDbEJDLFVBQVVuQixNQUFNbUIsUUFBUTtnQkFDeEJwQixRQUFRQyxNQUFNRCxNQUFNO2dCQUNwQndFLGFBQWF2RSxNQUFNdUUsV0FBVztZQUNoQztZQUVBLE9BQU9HO1FBQ1Q7UUFFQSxvQ0FBb0M7UUFDcENDLHVCQUF1QixDQUFDQyxZQUFZcEM7WUFDbEMsNkNBQTZDO1lBQzdDLE1BQU0zQixjQUFjO2dCQUNsQixHQUFHK0QsVUFBVTtnQkFDYjFFLElBQUkwRSxXQUFXMUUsRUFBRSxJQUFJdEIsOENBQU1BO2dCQUMzQjREO1lBQ0Y7WUFFQSxPQUFPbkQsTUFBTXVCLFFBQVEsQ0FBQ0M7UUFDeEI7SUFDRjtBQUVBLHdCQUF3QjtBQUV4QixzREFBc0Q7QUFDdEQsU0FBU0UsZ0JBQWdCOEQsU0FBUztJQUNoQywrQkFBK0I7SUFDL0IsTUFBTUMsZ0JBQWdCO1FBQ3BCQyxZQUFZO1lBQUM7WUFBSztZQUFLO1lBQUs7U0FBSTtRQUNoQ0MsT0FBTztZQUFDO1lBQUk7WUFBSztZQUFLO1NBQUk7UUFDMUJDLFNBQVMvRiw2REFBYSxDQUFDLEVBQUU7UUFDekJnRyxTQUFTcEcsMkRBQVcsQ0FBQyxFQUFFO1FBQ3ZCcUcsTUFBTTtZQUFDO1lBQUs7WUFBSztZQUFLO1NBQUk7UUFDMUJDLFNBQVM7WUFBQztZQUFJO1lBQUs7WUFBSztTQUFJO1FBQzVCLE1BQU07WUFBQztZQUFJO1lBQUs7WUFBSztTQUFJO1FBQ3pCQyxTQUFTckcsNERBQVksQ0FBQyxFQUFFO1FBQ3hCc0csTUFBTXZHLDBEQUFVLENBQUMsRUFBRTtRQUNuQndHLFNBQVNyRyw2REFBYSxDQUFDLEVBQUU7UUFDekJzRyxPQUFPO1lBQUM7WUFBSztZQUFLO1lBQUc7U0FBSTtRQUN6QkMsSUFBSXhHLDZEQUFhLENBQUMsRUFBRTtRQUNwQnlHLE1BQU07WUFBQztZQUFHO1lBQUc7WUFBRztTQUFJO1FBQ3BCQyxNQUFNO1lBQUM7WUFBSTtZQUFJO1lBQUk7U0FBSTtRQUN2QkMsWUFBWTdHLDBEQUFVLENBQUMsRUFBRTtRQUN6QjhHLFNBQVM7WUFBQztZQUFJO1lBQUs7WUFBSztTQUFJLENBQU8sWUFBWTtJQUNqRDtJQUVBLGdCQUFnQjtJQUNoQixNQUFNQyxZQUFZO1FBQ2hCQyxTQUFTO1FBQ1RDLE9BQU9sQixhQUFhLENBQUNELFVBQVUsSUFBSTtZQUFDO1lBQUs7WUFBSztZQUFLO1NBQUk7UUFDdkRvQixZQUFZO1FBQ1pDLFlBQVk7UUFDWkMsWUFBWXJILDJEQUFXLENBQUMsRUFBRTtRQUMxQnNILG1CQUFtQjtRQUNuQkMsUUFBUTtRQUNSQyxXQUFXO1FBQ1hDLGdCQUFnQjtRQUNoQkMsVUFBVTNCLGNBQWMsUUFBUUEsY0FBYyxhQUFhQSxjQUFjO1FBQ3pFNEIsc0JBQXNCO1FBQ3RCQyxVQUFVO0lBQ1o7SUFFQSxtQ0FBbUM7SUFDbkMsT0FBUTdCO1FBQ04sS0FBSztZQUNILE9BQU87Z0JBQ0wsR0FBR2lCLFNBQVM7Z0JBQ1pPLFFBQVE7Z0JBQ1JNLGFBQWE7Z0JBQ2JDLGlCQUFpQjtnQkFDakJDLGlCQUFpQjtZQUNuQjtRQUVGLEtBQUs7WUFDSCxPQUFPO2dCQUNMLEdBQUdmLFNBQVM7Z0JBQ1pnQixhQUFhO29CQUFDO29CQUFLO29CQUFLO29CQUFLO2lCQUFJO2dCQUNqQ0MsYUFBYTtnQkFDYkMsUUFBUTtnQkFDUkMsU0FBUztZQUNYO1FBRUYsS0FBSztZQUNILE9BQU87Z0JBQ0wsR0FBR25CLFNBQVM7Z0JBQ1pPLFFBQVE7Z0JBQ1JhLFdBQVc7Z0JBQ1hmLFlBQVlqSCw2REFBYSxDQUFDLEVBQUU7Z0JBQzVCaUksV0FBVztZQUNiO1FBRUYsS0FBSztRQUNMLEtBQUs7WUFDSCxPQUFPO2dCQUNMLEdBQUdyQixTQUFTO2dCQUNaWSxVQUFVO2dCQUNWVSxVQUFVO2dCQUNWYixnQkFBZ0I7Z0JBQ2hCQyxVQUFVO1lBQ1o7UUFFRixLQUFLO1lBQ0gsT0FBTztnQkFDTCxHQUFHVixTQUFTO2dCQUNaWSxVQUFVO2dCQUNWVSxVQUFVO2dCQUNWYixnQkFBZ0I7Z0JBQ2hCQyxVQUFVO2dCQUNWTCxZQUFZbkgsNERBQVksQ0FBQyxFQUFFO1lBQzdCO1FBRUYsS0FBSztZQUNILE9BQU87Z0JBQ0wsR0FBRzhHLFNBQVM7Z0JBQ1pVLFVBQVU7Z0JBQ1ZELGdCQUFnQjtnQkFDaEJjLFVBQVU7b0JBQ1JDLFNBQVM7b0JBQ1RDLFNBQVM7b0JBQ1RDLFdBQVc7b0JBQ1hDLGVBQWU7d0JBQUM7d0JBQUk7d0JBQUk7cUJBQUc7Z0JBQzdCO1lBQ0Y7UUFFRixLQUFLO1lBQ0gsT0FBTztnQkFDTCxHQUFHM0IsU0FBUztnQkFDWlEsV0FBVztnQkFDWG9CLFlBQVk7Z0JBQ1pDLFlBQVk7Z0JBQ1pDLGdCQUFnQjtnQkFDaEJDLGdCQUFnQjtZQUNsQjtRQUVGLEtBQUs7WUFDSCxPQUFPO2dCQUNMLEdBQUcvQixTQUFTO2dCQUNaZ0MsYUFBYTtnQkFDYkMsYUFBYTtnQkFDYkgsZ0JBQWdCO2dCQUNoQkksU0FBUztZQUNYO1FBRUY7WUFDRSxPQUFPbEM7SUFDWDtBQUNGO0FBRUEsb0VBQW9FO0FBQ3BFLFNBQVN2RSxvQkFBb0J2QixLQUFLO0lBQ2hDLGdFQUFnRTtJQUNoRSw2Q0FBNkM7SUFFN0MsbUVBQW1FO0lBQ25FLDRDQUE0QztJQUM1QyxPQUFPO1FBQ0xFLElBQUlGLE1BQU1FLEVBQUU7UUFDWmMsTUFBTWhCLE1BQU1nQixJQUFJO1FBQ2hCd0IsTUFBTXhDLE1BQU13QyxJQUFJO1FBQ2hCdEIsT0FBT2xCLE1BQU1rQixLQUFLO0lBR3BCO0FBQ0Y7QUFFQSxpRUFBZS9CLGVBQWVBLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tYXBjcmFmdC8uL2hvb2tzL3VzZUxheWVyTWFuYWdlci5qcz9iNjdhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZSB9IGZyb20gJ3p1c3RhbmQnO1xyXG5pbXBvcnQgeyBuYW5vaWQgfSBmcm9tICduYW5vaWQnO1xyXG5pbXBvcnQgKiBhcyB0dXJmIGZyb20gJ0B0dXJmL3R1cmYnO1xyXG5pbXBvcnQgeyBzY2hlbWVCbHVlcywgc2NoZW1lUmVkcywgc2NoZW1lR3JlZW5zLCBzY2hlbWVQdXJwbGVzLCBzY2hlbWVWaXJpZGlzIH0gZnJvbSAnZDMtc2NhbGUtY2hyb21hdGljJztcclxuXHJcbi8vIFN0b3JlIHBvdXIgbGEgZ2VzdGlvbiBhdmFuY8OpZSBkZXMgY291Y2hlc1xyXG5jb25zdCB1c2VMYXllck1hbmFnZXIgPSBjcmVhdGUoKHNldCwgZ2V0KSA9PiAoe1xyXG4gIC8vIMOJdGF0IGRlcyBjb3VjaGVzXHJcbiAgbGF5ZXJzOiBbXSxcclxuICB2aXNpYmxlTGF5ZXJzOiBbXSxcclxuICBhY3RpdmVMYXllcjogbnVsbCxcclxuICBsb2NrZWRMYXllcnM6IFtdLFxyXG4gIGxheWVyR3JvdXBzOiBbXSxcclxuICBsYXllck9yZGVyOiBbXSwgLy8gUG91ciBjb250csO0bGVyIGwnb3JkcmUgZCdhZmZpY2hhZ2VcclxuICBcclxuICAvLyBPcHRpb25zIGdsb2JhbGVzIGQnYWZmaWNoYWdlXHJcbiAgZ2xvYmFsT3BhY2l0eTogMS4wLFxyXG4gIFxyXG4gIC8vIFLDqWN1cMOpcmVyIGxlcyBjb3VjaGVzIGFjdGl2ZXMgcG91ciBkZWNrLmdsXHJcbiAgZ2V0IGFjdGl2ZUxheWVycygpIHtcclxuICAgIGNvbnN0IGxheWVycyA9IGdldCgpLmxheWVycztcclxuICAgIGNvbnN0IHZpc2libGVMYXllcnMgPSBnZXQoKS52aXNpYmxlTGF5ZXJzO1xyXG4gICAgY29uc3QgbGF5ZXJPcmRlciA9IGdldCgpLmxheWVyT3JkZXI7XHJcbiAgICBcclxuICAgIC8vIEZpbHRyZXIgbGVzIGNvdWNoZXMgdmlzaWJsZXMgZXQgbGVzIHRyaWVyIHNlbG9uIGwnb3JkcmUgZMOpZmluaVxyXG4gICAgY29uc3QgYWN0aXZlTGF5ZXJPYmplY3RzID0gbGF5ZXJzXHJcbiAgICAgIC5maWx0ZXIobGF5ZXIgPT4gdmlzaWJsZUxheWVycy5pbmNsdWRlcyhsYXllci5pZCkpXHJcbiAgICAgIC5zb3J0KChhLCBiKSA9PiB7XHJcbiAgICAgICAgY29uc3QgaW5kZXhBID0gbGF5ZXJPcmRlci5pbmRleE9mKGEuaWQpO1xyXG4gICAgICAgIGNvbnN0IGluZGV4QiA9IGxheWVyT3JkZXIuaW5kZXhPZihiLmlkKTtcclxuICAgICAgICByZXR1cm4gKGluZGV4QSA9PT0gLTEgPyBJbmZpbml0eSA6IGluZGV4QSkgLSAoaW5kZXhCID09PSAtMSA/IEluZmluaXR5IDogaW5kZXhCKTtcclxuICAgICAgfSk7XHJcbiAgICBcclxuICAgIC8vIEfDqW7DqXJlciBsZXMgY291Y2hlcyBkZWNrLmdsXHJcbiAgICByZXR1cm4gYWN0aXZlTGF5ZXJPYmplY3RzLm1hcChsYXllciA9PiBsYXllci5kZWNrR2xMYXllcik7XHJcbiAgfSxcclxuICBcclxuICAvLyBBam91dGVyIHVuZSBub3V2ZWxsZSBjb3VjaGVcclxuICBhZGRMYXllcjogKGxheWVyQ29uZmlnKSA9PiB7XHJcbiAgICBjb25zdCBpZCA9IGxheWVyQ29uZmlnLmlkIHx8IG5hbm9pZCgpO1xyXG4gICAgY29uc3QgZGVmYXVsdFN0eWxlID0gZ2V0RGVmYXVsdFN0eWxlKGxheWVyQ29uZmlnLnR5cGUpO1xyXG4gICAgXHJcbiAgICBjb25zdCBuZXdMYXllciA9IHtcclxuICAgICAgLi4ubGF5ZXJDb25maWcsXHJcbiAgICAgIGlkLFxyXG4gICAgICBzdHlsZTogbGF5ZXJDb25maWcuc3R5bGUgfHwgZGVmYXVsdFN0eWxlLFxyXG4gICAgICBtZXRhZGF0YToge1xyXG4gICAgICAgIC4uLmxheWVyQ29uZmlnLm1ldGFkYXRhLFxyXG4gICAgICAgIGNyZWF0ZWRBdDogRGF0ZS5ub3coKVxyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICAvLyBHw6luw6lyZXIgbGEgY291Y2hlIGRlY2suZ2wgaW5pdGlhbGVcclxuICAgIG5ld0xheWVyLmRlY2tHbExheWVyID0gZ2VuZXJhdGVEZWNrR2xMYXllcihuZXdMYXllcik7XHJcbiAgICBcclxuICAgIHNldChzdGF0ZSA9PiB7XHJcbiAgICAgIC8vIEFqb3V0ZXIgbGEgY291Y2hlIGVuIGhhdXQgKGF1IGTDqWJ1dCkgZGUgbCdvcmRyZSBkJ2FmZmljaGFnZVxyXG4gICAgICBjb25zdCBuZXdMYXllck9yZGVyID0gW2lkLCAuLi5zdGF0ZS5sYXllck9yZGVyXTtcclxuICAgICAgXHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgbGF5ZXJzOiBbLi4uc3RhdGUubGF5ZXJzLCBuZXdMYXllcl0sXHJcbiAgICAgICAgdmlzaWJsZUxheWVyczogWy4uLnN0YXRlLnZpc2libGVMYXllcnMsIGlkXSxcclxuICAgICAgICBhY3RpdmVMYXllcjogaWQsXHJcbiAgICAgICAgbGF5ZXJPcmRlcjogbmV3TGF5ZXJPcmRlclxyXG4gICAgICB9O1xyXG4gICAgfSk7XHJcbiAgICBcclxuICAgIHJldHVybiBpZDtcclxuICB9LFxyXG4gIFxyXG4gIC8vIFJlc3RlIGR1IGNvZGUgaW5jaGFuZ8OpLi4uXHJcbiAgXHJcbiAgLy8gU3VwcHJpbWVyIHVuZSBjb3VjaGVcclxuICByZW1vdmVMYXllcjogKGxheWVySWQpID0+IHtcclxuICAgIHNldChzdGF0ZSA9PiAoe1xyXG4gICAgICBsYXllcnM6IHN0YXRlLmxheWVycy5maWx0ZXIobGF5ZXIgPT4gbGF5ZXIuaWQgIT09IGxheWVySWQpLFxyXG4gICAgICB2aXNpYmxlTGF5ZXJzOiBzdGF0ZS52aXNpYmxlTGF5ZXJzLmZpbHRlcihpZCA9PiBpZCAhPT0gbGF5ZXJJZCksXHJcbiAgICAgIGFjdGl2ZUxheWVyOiBzdGF0ZS5hY3RpdmVMYXllciA9PT0gbGF5ZXJJZCA/IG51bGwgOiBzdGF0ZS5hY3RpdmVMYXllcixcclxuICAgICAgbGF5ZXJPcmRlcjogc3RhdGUubGF5ZXJPcmRlci5maWx0ZXIoaWQgPT4gaWQgIT09IGxheWVySWQpXHJcbiAgICB9KSk7XHJcbiAgfSxcclxuICBcclxuICAvLyBEw6lmaW5pciBsZXMgY291Y2hlcyAocmVtcGxhY2VtZW50IGNvbXBsZXQpXHJcbiAgc2V0TGF5ZXJzOiAobGF5ZXJzKSA9PiB7XHJcbiAgICBjb25zdCBwcm9jZXNlZExheWVycyA9IGxheWVycy5tYXAobGF5ZXIgPT4gKHtcclxuICAgICAgLi4ubGF5ZXIsXHJcbiAgICAgIGRlY2tHbExheWVyOiBnZW5lcmF0ZURlY2tHbExheWVyKGxheWVyKVxyXG4gICAgfSkpO1xyXG4gICAgXHJcbiAgICBzZXQoc3RhdGUgPT4ge1xyXG4gICAgICAvLyBSZWNvbnN0cnVpcmUgbCdvcmRyZSBkZXMgY291Y2hlc1xyXG4gICAgICBjb25zdCBsYXllck9yZGVyID0gcHJvY2VzZWRMYXllcnMubWFwKGxheWVyID0+IGxheWVyLmlkKTtcclxuICAgICAgXHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgbGF5ZXJzOiBwcm9jZXNlZExheWVycyxcclxuICAgICAgICBsYXllck9yZGVyLFxyXG4gICAgICAgIC8vIENvbnNlcnZlciBzZXVsZW1lbnQgbGVzIGNvdWNoZXMgdmlzaWJsZXMgcXVpIGV4aXN0ZW50IGVuY29yZVxyXG4gICAgICAgIHZpc2libGVMYXllcnM6IHN0YXRlLnZpc2libGVMYXllcnMuZmlsdGVyKGlkID0+IFxyXG4gICAgICAgICAgcHJvY2VzZWRMYXllcnMuc29tZShsYXllciA9PiBsYXllci5pZCA9PT0gaWQpXHJcbiAgICAgICAgKVxyXG4gICAgICB9O1xyXG4gICAgfSk7XHJcbiAgfSxcclxuICBcclxuICAvLyBEw6lmaW5pciBsYSBjb3VjaGUgYWN0aXZlXHJcbiAgc2V0QWN0aXZlTGF5ZXI6IChsYXllcklkKSA9PiB7XHJcbiAgICBzZXQoeyBhY3RpdmVMYXllcjogbGF5ZXJJZCB9KTtcclxuICB9LFxyXG4gIFxyXG4gIC8vIETDqWZpbmlyIGxlcyBjb3VjaGVzIHZpc2libGVzXHJcbiAgc2V0VmlzaWJsZUxheWVyczogKHZpc2libGVMYXllcnMpID0+IHtcclxuICAgIHNldCh7IHZpc2libGVMYXllcnMgfSk7XHJcbiAgfSxcclxuICBcclxuICAvLyBCYXNjdWxlciBsYSB2aXNpYmlsaXTDqSBkJ3VuZSBjb3VjaGVcclxuICB0b2dnbGVMYXllclZpc2liaWxpdHk6IChsYXllcklkKSA9PiB7XHJcbiAgICBzZXQoc3RhdGUgPT4ge1xyXG4gICAgICBjb25zdCBpc1Zpc2libGUgPSBzdGF0ZS52aXNpYmxlTGF5ZXJzLmluY2x1ZGVzKGxheWVySWQpO1xyXG4gICAgICBcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICB2aXNpYmxlTGF5ZXJzOiBpc1Zpc2libGVcclxuICAgICAgICAgID8gc3RhdGUudmlzaWJsZUxheWVycy5maWx0ZXIoaWQgPT4gaWQgIT09IGxheWVySWQpXHJcbiAgICAgICAgICA6IFsuLi5zdGF0ZS52aXNpYmxlTGF5ZXJzLCBsYXllcklkXVxyXG4gICAgICB9O1xyXG4gICAgfSk7XHJcbiAgfSxcclxuICBcclxuICAvLyBNZXR0cmUgw6Agam91ciBsZSBzdHlsZSBkJ3VuZSBjb3VjaGVcclxuICB1cGRhdGVMYXllclN0eWxlOiAobGF5ZXJJZCwgc3R5bGVVcGRhdGVzKSA9PiB7XHJcbiAgICBzZXQoc3RhdGUgPT4ge1xyXG4gICAgICBjb25zdCB1cGRhdGVkTGF5ZXJzID0gc3RhdGUubGF5ZXJzLm1hcChsYXllciA9PiB7XHJcbiAgICAgICAgaWYgKGxheWVyLmlkICE9PSBsYXllcklkKSByZXR1cm4gbGF5ZXI7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3QgdXBkYXRlZExheWVyID0ge1xyXG4gICAgICAgICAgLi4ubGF5ZXIsXHJcbiAgICAgICAgICBzdHlsZToge1xyXG4gICAgICAgICAgICAuLi5sYXllci5zdHlsZSxcclxuICAgICAgICAgICAgLi4uc3R5bGVVcGRhdGVzXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBSZWdlbmVyZXIgbGEgY291Y2hlIGRlY2suZ2wgYXZlYyBsZSBub3V2ZWF1IHN0eWxlXHJcbiAgICAgICAgdXBkYXRlZExheWVyLmRlY2tHbExheWVyID0gZ2VuZXJhdGVEZWNrR2xMYXllcih1cGRhdGVkTGF5ZXIpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHJldHVybiB1cGRhdGVkTGF5ZXI7XHJcbiAgICAgIH0pO1xyXG4gICAgICBcclxuICAgICAgcmV0dXJuIHsgbGF5ZXJzOiB1cGRhdGVkTGF5ZXJzIH07XHJcbiAgICB9KTtcclxuICB9LFxyXG4gIFxyXG4gIC8vIE1ldHRyZSDDoCBqb3VyIGxlcyBkb25uw6llcyBkJ3VuZSBjb3VjaGVcclxuICB1cGRhdGVMYXllckRhdGE6IChsYXllcklkLCBkYXRhKSA9PiB7XHJcbiAgICBzZXQoc3RhdGUgPT4ge1xyXG4gICAgICBjb25zdCB1cGRhdGVkTGF5ZXJzID0gc3RhdGUubGF5ZXJzLm1hcChsYXllciA9PiB7XHJcbiAgICAgICAgaWYgKGxheWVyLmlkICE9PSBsYXllcklkKSByZXR1cm4gbGF5ZXI7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3QgdXBkYXRlZExheWVyID0ge1xyXG4gICAgICAgICAgLi4ubGF5ZXIsXHJcbiAgICAgICAgICBkYXRhXHJcbiAgICAgICAgfTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBSZWdlbmVyZXIgbGEgY291Y2hlIGRlY2suZ2wgYXZlYyBsZXMgbm91dmVsbGVzIGRvbm7DqWVzXHJcbiAgICAgICAgdXBkYXRlZExheWVyLmRlY2tHbExheWVyID0gZ2VuZXJhdGVEZWNrR2xMYXllcih1cGRhdGVkTGF5ZXIpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHJldHVybiB1cGRhdGVkTGF5ZXI7XHJcbiAgICAgIH0pO1xyXG4gICAgICBcclxuICAgICAgcmV0dXJuIHsgbGF5ZXJzOiB1cGRhdGVkTGF5ZXJzIH07XHJcbiAgICB9KTtcclxuICB9LFxyXG4gIFxyXG4gIC8vIE1ldHRyZSDDoCBqb3VyIGxlcyBtw6l0YWRvbm7DqWVzIGQndW5lIGNvdWNoZVxyXG4gIHVwZGF0ZUxheWVyTWV0YWRhdGE6IChsYXllcklkLCBtZXRhZGF0YSkgPT4ge1xyXG4gICAgc2V0KHN0YXRlID0+ICh7XHJcbiAgICAgIGxheWVyczogc3RhdGUubGF5ZXJzLm1hcChsYXllciA9PiBcclxuICAgICAgICBsYXllci5pZCA9PT0gbGF5ZXJJZFxyXG4gICAgICAgICAgPyB7XHJcbiAgICAgICAgICAgICAgLi4ubGF5ZXIsXHJcbiAgICAgICAgICAgICAgbWV0YWRhdGE6IHtcclxuICAgICAgICAgICAgICAgIC4uLmxheWVyLm1ldGFkYXRhLFxyXG4gICAgICAgICAgICAgICAgLi4ubWV0YWRhdGFcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIDogbGF5ZXJcclxuICAgICAgKVxyXG4gICAgfSkpO1xyXG4gIH0sXHJcbiAgXHJcbiAgLy8gQXBwbGlxdWVyIHVuIGZpbHRyZSDDoCB1bmUgY291Y2hlXHJcbiAgdXBkYXRlTGF5ZXJGaWx0ZXI6IChsYXllcklkLCBmaWx0ZXIpID0+IHtcclxuICAgIHNldChzdGF0ZSA9PiB7XHJcbiAgICAgIGNvbnN0IHVwZGF0ZWRMYXllcnMgPSBzdGF0ZS5sYXllcnMubWFwKGxheWVyID0+IHtcclxuICAgICAgICBpZiAobGF5ZXIuaWQgIT09IGxheWVySWQpIHJldHVybiBsYXllcjtcclxuICAgICAgICBcclxuICAgICAgICBjb25zdCB1cGRhdGVkTGF5ZXIgPSB7XHJcbiAgICAgICAgICAuLi5sYXllcixcclxuICAgICAgICAgIGZpbHRlclxyXG4gICAgICAgIH07XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gUmVnZW5lcmVyIGxhIGNvdWNoZSBkZWNrLmdsIGF2ZWMgbGUgbm91dmVhdSBmaWx0cmVcclxuICAgICAgICB1cGRhdGVkTGF5ZXIuZGVja0dsTGF5ZXIgPSBnZW5lcmF0ZURlY2tHbExheWVyKHVwZGF0ZWRMYXllcik7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcmV0dXJuIHVwZGF0ZWRMYXllcjtcclxuICAgICAgfSk7XHJcbiAgICAgIFxyXG4gICAgICByZXR1cm4geyBsYXllcnM6IHVwZGF0ZWRMYXllcnMgfTtcclxuICAgIH0pO1xyXG4gIH0sXHJcbiAgXHJcbiAgLy8gVmVycm91aWxsZXIvZMOpdmVycm91aWxsZXIgdW5lIGNvdWNoZVxyXG4gIGxvY2tMYXllcjogKGxheWVySWQsIGlzTG9ja2VkKSA9PiB7XHJcbiAgICBzZXQoc3RhdGUgPT4gKHtcclxuICAgICAgbG9ja2VkTGF5ZXJzOiBpc0xvY2tlZFxyXG4gICAgICAgID8gWy4uLnN0YXRlLmxvY2tlZExheWVycywgbGF5ZXJJZF1cclxuICAgICAgICA6IHN0YXRlLmxvY2tlZExheWVycy5maWx0ZXIoaWQgPT4gaWQgIT09IGxheWVySWQpXHJcbiAgICB9KSk7XHJcbiAgfSxcclxuICBcclxuICAvLyBDcsOpZXIgdW4gZ3JvdXBlIGRlIGNvdWNoZXNcclxuICBjcmVhdGVMYXllckdyb3VwOiAobmFtZSwgbGF5ZXJJZHMpID0+IHtcclxuICAgIGNvbnN0IGdyb3VwSWQgPSBuYW5vaWQoKTtcclxuICAgIFxyXG4gICAgc2V0KHN0YXRlID0+ICh7XHJcbiAgICAgIGxheWVyR3JvdXBzOiBbXHJcbiAgICAgICAgLi4uc3RhdGUubGF5ZXJHcm91cHMsXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgaWQ6IGdyb3VwSWQsXHJcbiAgICAgICAgICBuYW1lLFxyXG4gICAgICAgICAgbGF5ZXJzOiBsYXllcklkc1xyXG4gICAgICAgIH1cclxuICAgICAgXVxyXG4gICAgfSkpO1xyXG4gICAgXHJcbiAgICByZXR1cm4gZ3JvdXBJZDtcclxuICB9LFxyXG4gIFxyXG4gIC8vIE1ldHRyZSDDoCBqb3VyIHVuIGdyb3VwZSBkZSBjb3VjaGVzXHJcbiAgdXBkYXRlTGF5ZXJHcm91cDogKGdyb3VwSWQsIHVwZGF0ZXMpID0+IHtcclxuICAgIHNldChzdGF0ZSA9PiAoe1xyXG4gICAgICBsYXllckdyb3Vwczogc3RhdGUubGF5ZXJHcm91cHMubWFwKGdyb3VwID0+IFxyXG4gICAgICAgIGdyb3VwLmlkID09PSBncm91cElkXHJcbiAgICAgICAgICA/IHsgLi4uZ3JvdXAsIC4uLnVwZGF0ZXMgfVxyXG4gICAgICAgICAgOiBncm91cFxyXG4gICAgICApXHJcbiAgICB9KSk7XHJcbiAgfSxcclxuICBcclxuICAvLyBTdXBwcmltZXIgdW4gZ3JvdXBlIGRlIGNvdWNoZXNcclxuICByZW1vdmVMYXllckdyb3VwOiAoZ3JvdXBJZCkgPT4ge1xyXG4gICAgc2V0KHN0YXRlID0+ICh7XHJcbiAgICAgIGxheWVyR3JvdXBzOiBzdGF0ZS5sYXllckdyb3Vwcy5maWx0ZXIoZ3JvdXAgPT4gZ3JvdXAuaWQgIT09IGdyb3VwSWQpXHJcbiAgICB9KSk7XHJcbiAgfSxcclxuICBcclxuICAvLyBSw6lvcmRvbm5lciBsZXMgY291Y2hlc1xyXG4gIHJlb3JkZXJMYXllcnM6IChsYXllck9yZGVyKSA9PiB7XHJcbiAgICBzZXQoeyBsYXllck9yZGVyIH0pO1xyXG4gIH0sXHJcbiAgXHJcbiAgLy8gTW9udGVyIHVuZSBjb3VjaGUgZGFucyBsJ29yZHJlIGQnYWZmaWNoYWdlIChsYSByZW5kcmUgcGx1cyB2aXNpYmxlKVxyXG4gIG1vdmVMYXllclVwOiAobGF5ZXJJZCkgPT4ge1xyXG4gICAgc2V0KHN0YXRlID0+IHtcclxuICAgICAgY29uc3QgY3VycmVudE9yZGVyID0gWy4uLnN0YXRlLmxheWVyT3JkZXJdO1xyXG4gICAgICBjb25zdCBpbmRleCA9IGN1cnJlbnRPcmRlci5pbmRleE9mKGxheWVySWQpO1xyXG4gICAgICBcclxuICAgICAgaWYgKGluZGV4IDw9IDApIHJldHVybiBzdGF0ZTsgLy8gRMOpasOgIHRvdXQgZW4gaGF1dFxyXG4gICAgICBcclxuICAgICAgLy8gw4ljaGFuZ2VyIGF2ZWMgbGEgY291Y2hlIGF1LWRlc3N1c1xyXG4gICAgICBbY3VycmVudE9yZGVyW2luZGV4XSwgY3VycmVudE9yZGVyW2luZGV4IC0gMV1dID0gW2N1cnJlbnRPcmRlcltpbmRleCAtIDFdLCBjdXJyZW50T3JkZXJbaW5kZXhdXTtcclxuICAgICAgXHJcbiAgICAgIHJldHVybiB7IGxheWVyT3JkZXI6IGN1cnJlbnRPcmRlciB9O1xyXG4gICAgfSk7XHJcbiAgfSxcclxuICBcclxuICAvLyBEZXNjZW5kcmUgdW5lIGNvdWNoZSBkYW5zIGwnb3JkcmUgZCdhZmZpY2hhZ2UgKGxhIHJlbmRyZSBtb2lucyB2aXNpYmxlKVxyXG4gIG1vdmVMYXllckRvd246IChsYXllcklkKSA9PiB7XHJcbiAgICBzZXQoc3RhdGUgPT4ge1xyXG4gICAgICBjb25zdCBjdXJyZW50T3JkZXIgPSBbLi4uc3RhdGUubGF5ZXJPcmRlcl07XHJcbiAgICAgIGNvbnN0IGluZGV4ID0gY3VycmVudE9yZGVyLmluZGV4T2YobGF5ZXJJZCk7XHJcbiAgICAgIFxyXG4gICAgICBpZiAoaW5kZXggPT09IC0xIHx8IGluZGV4ID49IGN1cnJlbnRPcmRlci5sZW5ndGggLSAxKSByZXR1cm4gc3RhdGU7IC8vIETDqWrDoCB0b3V0IGVuIGJhc1xyXG4gICAgICBcclxuICAgICAgLy8gw4ljaGFuZ2VyIGF2ZWMgbGEgY291Y2hlIGVuLWRlc3NvdXNcclxuICAgICAgW2N1cnJlbnRPcmRlcltpbmRleF0sIGN1cnJlbnRPcmRlcltpbmRleCArIDFdXSA9IFtjdXJyZW50T3JkZXJbaW5kZXggKyAxXSwgY3VycmVudE9yZGVyW2luZGV4XV07XHJcbiAgICAgIFxyXG4gICAgICByZXR1cm4geyBsYXllck9yZGVyOiBjdXJyZW50T3JkZXIgfTtcclxuICAgIH0pO1xyXG4gIH0sXHJcbiAgXHJcbiAgLy8gRHVwbGlxdWVyIHVuZSBjb3VjaGVcclxuICBkdXBsaWNhdGVMYXllcjogKGxheWVySWQpID0+IHtcclxuICAgIGNvbnN0IGxheWVycyA9IGdldCgpLmxheWVycztcclxuICAgIGNvbnN0IGxheWVyVG9EdXBsaWNhdGUgPSBsYXllcnMuZmluZChsYXllciA9PiBsYXllci5pZCA9PT0gbGF5ZXJJZCk7XHJcbiAgICBcclxuICAgIGlmICghbGF5ZXJUb0R1cGxpY2F0ZSkgcmV0dXJuIG51bGw7XHJcbiAgICBcclxuICAgIGNvbnN0IGR1cGxpY2F0ZWRMYXllciA9IHtcclxuICAgICAgLi4ubGF5ZXJUb0R1cGxpY2F0ZSxcclxuICAgICAgaWQ6IG5hbm9pZCgpLFxyXG4gICAgICB0aXRsZTogYCR7bGF5ZXJUb0R1cGxpY2F0ZS50aXRsZSB8fCBsYXllcklkfSAoY29waWUpYCxcclxuICAgICAgbWV0YWRhdGE6IHtcclxuICAgICAgICAuLi5sYXllclRvRHVwbGljYXRlLm1ldGFkYXRhLFxyXG4gICAgICAgIGNyZWF0ZWRBdDogRGF0ZS5ub3coKSxcclxuICAgICAgICBpc0R1cGxpY2F0ZTogdHJ1ZSxcclxuICAgICAgICBvcmlnaW5hbExheWVyOiBsYXllcklkXHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgICBcclxuICAgIC8vIEfDqW7DqXJlciBsYSBub3V2ZWxsZSBjb3VjaGUgZGVjay5nbFxyXG4gICAgZHVwbGljYXRlZExheWVyLmRlY2tHbExheWVyID0gZ2VuZXJhdGVEZWNrR2xMYXllcihkdXBsaWNhdGVkTGF5ZXIpO1xyXG4gICAgXHJcbiAgICBzZXQoc3RhdGUgPT4ge1xyXG4gICAgICAvLyBJbnPDqXJlciBsYSBjb3BpZSBqdXN0ZSBhcHLDqHMgbCdvcmlnaW5hbCBkYW5zIGwnb3JkcmUgZGVzIGNvdWNoZXNcclxuICAgICAgY29uc3QgY3VycmVudE9yZGVyID0gWy4uLnN0YXRlLmxheWVyT3JkZXJdO1xyXG4gICAgICBjb25zdCBpbnNlcnRJbmRleCA9IGN1cnJlbnRPcmRlci5pbmRleE9mKGxheWVySWQpO1xyXG4gICAgICBcclxuICAgICAgaWYgKGluc2VydEluZGV4ICE9PSAtMSkge1xyXG4gICAgICAgIGN1cnJlbnRPcmRlci5zcGxpY2UoaW5zZXJ0SW5kZXggKyAxLCAwLCBkdXBsaWNhdGVkTGF5ZXIuaWQpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGN1cnJlbnRPcmRlci51bnNoaWZ0KGR1cGxpY2F0ZWRMYXllci5pZCk7XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgbGF5ZXJzOiBbLi4uc3RhdGUubGF5ZXJzLCBkdXBsaWNhdGVkTGF5ZXJdLFxyXG4gICAgICAgIHZpc2libGVMYXllcnM6IFsuLi5zdGF0ZS52aXNpYmxlTGF5ZXJzLCBkdXBsaWNhdGVkTGF5ZXIuaWRdLFxyXG4gICAgICAgIGxheWVyT3JkZXI6IGN1cnJlbnRPcmRlclxyXG4gICAgICB9O1xyXG4gICAgfSk7XHJcbiAgICBcclxuICAgIHJldHVybiBkdXBsaWNhdGVkTGF5ZXIuaWQ7XHJcbiAgfSxcclxuICBcclxuICAvLyBBY3RpdmVyL2TDqXNhY3RpdmVyIGxlIG1vZGUgdGVtcG9yZWwgcG91ciB1bmUgY291Y2hlXHJcbiAgdG9nZ2xlVGltZUVuYWJsZWQ6IChsYXllcklkLCBlbmFibGVkKSA9PiB7XHJcbiAgICBzZXQoc3RhdGUgPT4gKHtcclxuICAgICAgbGF5ZXJzOiBzdGF0ZS5sYXllcnMubWFwKGxheWVyID0+IFxyXG4gICAgICAgIGxheWVyLmlkID09PSBsYXllcklkXHJcbiAgICAgICAgICA/IHtcclxuICAgICAgICAgICAgICAuLi5sYXllcixcclxuICAgICAgICAgICAgICB0aW1lRW5hYmxlZDogZW5hYmxlZCxcclxuICAgICAgICAgICAgICBkZWNrR2xMYXllcjogZ2VuZXJhdGVEZWNrR2xMYXllcih7XHJcbiAgICAgICAgICAgICAgICAuLi5sYXllcixcclxuICAgICAgICAgICAgICAgIHRpbWVFbmFibGVkOiBlbmFibGVkXHJcbiAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgOiBsYXllclxyXG4gICAgICApXHJcbiAgICB9KSk7XHJcbiAgfSxcclxuICBcclxuICAvLyBFeHBvcnRlciB1bmUgZMOpZmluaXRpb24gZGUgY291Y2hlIChwb3VyIHNhdXZlZ2FyZGUgb3UgcGFydGFnZSlcclxuICBleHBvcnRMYXllckRlZmluaXRpb246IChsYXllcklkKSA9PiB7XHJcbiAgICBjb25zdCBsYXllciA9IGdldCgpLmxheWVycy5maW5kKGwgPT4gbC5pZCA9PT0gbGF5ZXJJZCk7XHJcbiAgICBpZiAoIWxheWVyKSByZXR1cm4gbnVsbDtcclxuICAgIFxyXG4gICAgLy8gQ3LDqWVyIHVuZSB2ZXJzaW9uIHNlcmlhbGlzYWJsZSBkZSBsYSBjb3VjaGUgKHNhbnMgbGVzIGZvbmN0aW9ucyBvdSBvYmpldHMgY29tcGxleGVzKVxyXG4gICAgY29uc3QgZXhwb3J0YWJsZURlZiA9IHtcclxuICAgICAgaWQ6IGxheWVyLmlkLFxyXG4gICAgICB0aXRsZTogbGF5ZXIudGl0bGUsXHJcbiAgICAgIHR5cGU6IGxheWVyLnR5cGUsXHJcbiAgICAgIHN0eWxlOiBsYXllci5zdHlsZSxcclxuICAgICAgbWV0YWRhdGE6IGxheWVyLm1ldGFkYXRhLFxyXG4gICAgICBmaWx0ZXI6IGxheWVyLmZpbHRlcixcclxuICAgICAgdGltZUVuYWJsZWQ6IGxheWVyLnRpbWVFbmFibGVkXHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICByZXR1cm4gZXhwb3J0YWJsZURlZjtcclxuICB9LFxyXG4gIFxyXG4gIC8vIEltcG9ydGVyIHVuZSBkw6lmaW5pdGlvbiBkZSBjb3VjaGVcclxuICBpbXBvcnRMYXllckRlZmluaXRpb246IChkZWZpbml0aW9uLCBkYXRhKSA9PiB7XHJcbiAgICAvLyBDcsOpZXIgdW5lIGNvdWNoZSDDoCBwYXJ0aXIgZGUgbGEgZMOpZmluaXRpb25cclxuICAgIGNvbnN0IGxheWVyQ29uZmlnID0ge1xyXG4gICAgICAuLi5kZWZpbml0aW9uLFxyXG4gICAgICBpZDogZGVmaW5pdGlvbi5pZCB8fCBuYW5vaWQoKSwgLy8gVXRpbGlzZXIgdW4gbm91dmVsIElEIHNpIG7DqWNlc3NhaXJlXHJcbiAgICAgIGRhdGFcclxuICAgIH07XHJcbiAgICBcclxuICAgIHJldHVybiBnZXQoKS5hZGRMYXllcihsYXllckNvbmZpZyk7XHJcbiAgfVxyXG59KSk7XHJcblxyXG4vLyBGb25jdGlvbnMgdXRpbGl0YWlyZXNcclxuXHJcbi8vIEfDqW7DqXJlciB1biBzdHlsZSBwYXIgZMOpZmF1dCBzZWxvbiBsZSB0eXBlIGRlIGNvdWNoZVxyXG5mdW5jdGlvbiBnZXREZWZhdWx0U3R5bGUobGF5ZXJUeXBlKSB7XHJcbiAgLy8gQ291bGV1cnMgcGFyIGTDqWZhdXQgcGFyIHR5cGVcclxuICBjb25zdCBkZWZhdWx0Q29sb3JzID0ge1xyXG4gICAgY2hvcm9wbGV0aDogWzE1OCwgMjAyLCAyMjUsIDE4MF0sICAvLyBCbGV1IGNsYWlyXHJcbiAgICBwb2ludDogWzMzLCAxMTMsIDE4MSwgMjU1XSwgICAgICAgIC8vIEJsZXVcclxuICAgIGhlYXRtYXA6IHNjaGVtZVZpcmlkaXNbOV0sICAgICAgICAgLy8gRMOpZ3JhZMOpIHZpcmlkaXNcclxuICAgIGNsdXN0ZXI6IHNjaGVtZUJsdWVzWzldLCAgICAgICAgICAgLy8gRMOpZ3JhZMOpIGJsZXVcclxuICAgIGxpbmU6IFsxMDYsIDEzNywgMjA0LCAyNTVdLCAgICAgICAgLy8gQmxldSBtb3llblxyXG4gICAgcG9seWdvbjogWzQzLCAxNDAsIDE5MCwgMTgwXSwgICAgICAvLyBCbGV1LXZlcnRcclxuICAgICczZCc6IFs2NSwgMTgyLCAxOTYsIDIwMF0sICAgICAgICAgLy8gVHVycXVvaXNlXHJcbiAgICBoZXhhZ29uOiBzY2hlbWVHcmVlbnNbOV0sICAgICAgICAgIC8vIETDqWdyYWTDqSB2ZXJ0XHJcbiAgICBncmlkOiBzY2hlbWVSZWRzWzldLCAgICAgICAgICAgICAgIC8vIETDqWdyYWTDqSByb3VnZVxyXG4gICAgY29udG91cjogc2NoZW1lVmlyaWRpc1s5XSwgICAgICAgICAvLyBEw6lncmFkw6kgdmlyaWRpc1xyXG4gICAgdHJpcHM6IFsyNTUsIDE0MCwgMCwgMjIwXSwgICAgICAgICAvLyBPcmFuZ2VcclxuICAgIGgzOiBzY2hlbWVQdXJwbGVzWzldLCAgICAgICAgICAgICAgLy8gRMOpZ3JhZMOpIHZpb2xldFxyXG4gICAgdGV4dDogWzAsIDAsIDAsIDI1NV0sICAgICAgICAgICAgICAvLyBOb2lyXHJcbiAgICBpY29uOiBbNjcsIDY3LCA2NywgMjU1XSwgICAgICAgICAgIC8vIEdyaXMgZm9uY8OpXHJcbiAgICBzY3JlZW5HcmlkOiBzY2hlbWVSZWRzWzldLCAgICAgICAgIC8vIETDqWdyYWTDqSByb3VnZVxyXG4gICAgdGVycmFpbjogWzk2LCAxMjUsIDEzOSwgMjU1XSAgICAgICAvLyBCbGV1LWdyaXNcclxuICB9O1xyXG4gIFxyXG4gIC8vIFN0eWxlIGRlIGJhc2VcclxuICBjb25zdCBiYXNlU3R5bGUgPSB7XHJcbiAgICBvcGFjaXR5OiAwLjgsXHJcbiAgICBjb2xvcjogZGVmYXVsdENvbG9yc1tsYXllclR5cGVdIHx8IFsxMDAsIDEwMCwgMTAwLCAyNTVdLFxyXG4gICAgY29sb3JGaWVsZDogbnVsbCxcclxuICAgIGNvbG9yU2NhbGU6ICdzZXF1ZW50aWFsJyxcclxuICAgIGNvbG9yUmFuZ2U6IHNjaGVtZUJsdWVzWzldLFxyXG4gICAgcmV2ZXJzZUNvbG9yU2NhbGU6IGZhbHNlLFxyXG4gICAgcmFkaXVzOiAxMDAsXHJcbiAgICBsaW5lV2lkdGg6IDEsXHJcbiAgICBlbGV2YXRpb25TY2FsZTogMSxcclxuICAgIGV4dHJ1ZGVkOiBsYXllclR5cGUgPT09ICczZCcgfHwgbGF5ZXJUeXBlID09PSAnaGV4YWdvbicgfHwgbGF5ZXJUeXBlID09PSAnZ3JpZCcsXHJcbiAgICBjbGFzc2lmaWNhdGlvbk1ldGhvZDogJ3F1YW50aWxlJyxcclxuICAgIGNlbGxTaXplOiAxMDAwXHJcbiAgfTtcclxuICBcclxuICAvLyBTdHlsZXMgc3DDqWNpZmlxdWVzIHNlbG9uIGxlIHR5cGVcclxuICBzd2l0Y2ggKGxheWVyVHlwZSkge1xyXG4gICAgY2FzZSAncG9pbnQnOlxyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIC4uLmJhc2VTdHlsZSxcclxuICAgICAgICByYWRpdXM6IDUsXHJcbiAgICAgICAgcmFkaXVzVW5pdHM6ICdwaXhlbHMnLFxyXG4gICAgICAgIHJhZGl1c01pblBpeGVsczogMixcclxuICAgICAgICByYWRpdXNNYXhQaXhlbHM6IDIwXHJcbiAgICAgIH07XHJcbiAgICAgIFxyXG4gICAgY2FzZSAnY2hvcm9wbGV0aCc6XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgLi4uYmFzZVN0eWxlLFxyXG4gICAgICAgIHN0cm9rZUNvbG9yOiBbMjU1LCAyNTUsIDI1NSwgMTAwXSxcclxuICAgICAgICBzdHJva2VXaWR0aDogMSxcclxuICAgICAgICBmaWxsZWQ6IHRydWUsXHJcbiAgICAgICAgc3Ryb2tlZDogdHJ1ZVxyXG4gICAgICB9O1xyXG4gICAgICBcclxuICAgIGNhc2UgJ2hlYXRtYXAnOlxyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIC4uLmJhc2VTdHlsZSxcclxuICAgICAgICByYWRpdXM6IDMwLFxyXG4gICAgICAgIGludGVuc2l0eTogMSxcclxuICAgICAgICBjb2xvclJhbmdlOiBzY2hlbWVWaXJpZGlzWzldLFxyXG4gICAgICAgIHRocmVzaG9sZDogMC4wNVxyXG4gICAgICB9O1xyXG4gICAgICBcclxuICAgIGNhc2UgJ2NsdXN0ZXInOlxyXG4gICAgY2FzZSAnZ3JpZCc6XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgLi4uYmFzZVN0eWxlLFxyXG4gICAgICAgIGNlbGxTaXplOiAxMDAwLFxyXG4gICAgICAgIGNvdmVyYWdlOiAwLjgsXHJcbiAgICAgICAgZWxldmF0aW9uU2NhbGU6IDEsXHJcbiAgICAgICAgZXh0cnVkZWQ6IHRydWVcclxuICAgICAgfTtcclxuICAgICAgXHJcbiAgICBjYXNlICdoZXhhZ29uJzpcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICAuLi5iYXNlU3R5bGUsXHJcbiAgICAgICAgY2VsbFNpemU6IDEwMDAsXHJcbiAgICAgICAgY292ZXJhZ2U6IDAuOSxcclxuICAgICAgICBlbGV2YXRpb25TY2FsZTogMSxcclxuICAgICAgICBleHRydWRlZDogdHJ1ZSxcclxuICAgICAgICBjb2xvclJhbmdlOiBzY2hlbWVHcmVlbnNbOV1cclxuICAgICAgfTtcclxuICAgICAgXHJcbiAgICBjYXNlICczZCc6XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgLi4uYmFzZVN0eWxlLFxyXG4gICAgICAgIGV4dHJ1ZGVkOiB0cnVlLFxyXG4gICAgICAgIGVsZXZhdGlvblNjYWxlOiAxLFxyXG4gICAgICAgIG1hdGVyaWFsOiB7XHJcbiAgICAgICAgICBhbWJpZW50OiAwLjQsXHJcbiAgICAgICAgICBkaWZmdXNlOiAwLjYsXHJcbiAgICAgICAgICBzaGluaW5lc3M6IDMyLFxyXG4gICAgICAgICAgc3BlY3VsYXJDb2xvcjogWzMwLCAzMCwgMzBdXHJcbiAgICAgICAgfVxyXG4gICAgICB9O1xyXG4gICAgICBcclxuICAgIGNhc2UgJ2xpbmUnOlxyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIC4uLmJhc2VTdHlsZSxcclxuICAgICAgICBsaW5lV2lkdGg6IDIsXHJcbiAgICAgICAgd2lkdGhVbml0czogJ3BpeGVscycsXHJcbiAgICAgICAgd2lkdGhTY2FsZTogMSxcclxuICAgICAgICB3aWR0aE1pblBpeGVsczogMSxcclxuICAgICAgICB3aWR0aE1heFBpeGVsczogMTBcclxuICAgICAgfTtcclxuICAgICAgXHJcbiAgICBjYXNlICd0cmlwcyc6XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgLi4uYmFzZVN0eWxlLFxyXG4gICAgICAgIHRyYWlsTGVuZ3RoOiAxMCxcclxuICAgICAgICBjdXJyZW50VGltZTogMCxcclxuICAgICAgICB3aWR0aE1pblBpeGVsczogMixcclxuICAgICAgICByb3VuZGVkOiB0cnVlXHJcbiAgICAgIH07XHJcbiAgICAgIFxyXG4gICAgZGVmYXVsdDpcclxuICAgICAgcmV0dXJuIGJhc2VTdHlsZTtcclxuICB9XHJcbn1cclxuXHJcbi8vIEfDqW7DqXJlciB1bmUgY291Y2hlIGRlY2suZ2wgw6AgcGFydGlyIGQndW5lIGNvbmZpZ3VyYXRpb24gZGUgY291Y2hlXHJcbmZ1bmN0aW9uIGdlbmVyYXRlRGVja0dsTGF5ZXIobGF5ZXIpIHtcclxuICAvLyBDZXR0ZSBmb25jdGlvbiBkZXZyYWl0IHV0aWxpc2VyIGxlcyBpbmZvcm1hdGlvbnMgZGUgbGEgY291Y2hlXHJcbiAgLy8gcG91ciBnw6luw6lyZXIgbCdvYmpldCBkZWNrLmdsIGNvcnJlc3BvbmRhbnRcclxuICBcclxuICAvLyBOb3RlOiBDZWNpIGVzdCB1biBzcXVlbGV0dGUsIGwnaW1wbMOpbWVudGF0aW9uIHLDqWVsbGUgZMOpcGVuZHJhaXQgXHJcbiAgLy8gZHUgY29kZSBkZSB2aXN1YWxpc2F0aW9uIGRlIGwnYXBwbGljYXRpb25cclxuICByZXR1cm4ge1xyXG4gICAgaWQ6IGxheWVyLmlkLFxyXG4gICAgdHlwZTogbGF5ZXIudHlwZSxcclxuICAgIGRhdGE6IGxheWVyLmRhdGEsXHJcbiAgICBzdHlsZTogbGF5ZXIuc3R5bGUsXHJcbiAgICAvLyBEYW5zIHVuZSBpbXBsw6ltZW50YXRpb24gcsOpZWxsZSwgY2V0IG9iamV0IGNvbnRpZW5kcmFpdFxyXG4gICAgLy8gbGVzIHByb3ByacOpdMOpcyBjb21wbMOodGVzIGQndW5lIGNvdWNoZSBkZWNrLmdsXHJcbiAgfTtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgdXNlTGF5ZXJNYW5hZ2VyOyJdLCJuYW1lcyI6WyJjcmVhdGUiLCJuYW5vaWQiLCJ0dXJmIiwic2NoZW1lQmx1ZXMiLCJzY2hlbWVSZWRzIiwic2NoZW1lR3JlZW5zIiwic2NoZW1lUHVycGxlcyIsInNjaGVtZVZpcmlkaXMiLCJ1c2VMYXllck1hbmFnZXIiLCJzZXQiLCJnZXQiLCJsYXllcnMiLCJ2aXNpYmxlTGF5ZXJzIiwiYWN0aXZlTGF5ZXIiLCJsb2NrZWRMYXllcnMiLCJsYXllckdyb3VwcyIsImxheWVyT3JkZXIiLCJnbG9iYWxPcGFjaXR5IiwiYWN0aXZlTGF5ZXJzIiwiYWN0aXZlTGF5ZXJPYmplY3RzIiwiZmlsdGVyIiwibGF5ZXIiLCJpbmNsdWRlcyIsImlkIiwic29ydCIsImEiLCJiIiwiaW5kZXhBIiwiaW5kZXhPZiIsImluZGV4QiIsIkluZmluaXR5IiwibWFwIiwiZGVja0dsTGF5ZXIiLCJhZGRMYXllciIsImxheWVyQ29uZmlnIiwiZGVmYXVsdFN0eWxlIiwiZ2V0RGVmYXVsdFN0eWxlIiwidHlwZSIsIm5ld0xheWVyIiwic3R5bGUiLCJtZXRhZGF0YSIsImNyZWF0ZWRBdCIsIkRhdGUiLCJub3ciLCJnZW5lcmF0ZURlY2tHbExheWVyIiwic3RhdGUiLCJuZXdMYXllck9yZGVyIiwicmVtb3ZlTGF5ZXIiLCJsYXllcklkIiwic2V0TGF5ZXJzIiwicHJvY2VzZWRMYXllcnMiLCJzb21lIiwic2V0QWN0aXZlTGF5ZXIiLCJzZXRWaXNpYmxlTGF5ZXJzIiwidG9nZ2xlTGF5ZXJWaXNpYmlsaXR5IiwiaXNWaXNpYmxlIiwidXBkYXRlTGF5ZXJTdHlsZSIsInN0eWxlVXBkYXRlcyIsInVwZGF0ZWRMYXllcnMiLCJ1cGRhdGVkTGF5ZXIiLCJ1cGRhdGVMYXllckRhdGEiLCJkYXRhIiwidXBkYXRlTGF5ZXJNZXRhZGF0YSIsInVwZGF0ZUxheWVyRmlsdGVyIiwibG9ja0xheWVyIiwiaXNMb2NrZWQiLCJjcmVhdGVMYXllckdyb3VwIiwibmFtZSIsImxheWVySWRzIiwiZ3JvdXBJZCIsInVwZGF0ZUxheWVyR3JvdXAiLCJ1cGRhdGVzIiwiZ3JvdXAiLCJyZW1vdmVMYXllckdyb3VwIiwicmVvcmRlckxheWVycyIsIm1vdmVMYXllclVwIiwiY3VycmVudE9yZGVyIiwiaW5kZXgiLCJtb3ZlTGF5ZXJEb3duIiwibGVuZ3RoIiwiZHVwbGljYXRlTGF5ZXIiLCJsYXllclRvRHVwbGljYXRlIiwiZmluZCIsImR1cGxpY2F0ZWRMYXllciIsInRpdGxlIiwiaXNEdXBsaWNhdGUiLCJvcmlnaW5hbExheWVyIiwiaW5zZXJ0SW5kZXgiLCJzcGxpY2UiLCJ1bnNoaWZ0IiwidG9nZ2xlVGltZUVuYWJsZWQiLCJlbmFibGVkIiwidGltZUVuYWJsZWQiLCJleHBvcnRMYXllckRlZmluaXRpb24iLCJsIiwiZXhwb3J0YWJsZURlZiIsImltcG9ydExheWVyRGVmaW5pdGlvbiIsImRlZmluaXRpb24iLCJsYXllclR5cGUiLCJkZWZhdWx0Q29sb3JzIiwiY2hvcm9wbGV0aCIsInBvaW50IiwiaGVhdG1hcCIsImNsdXN0ZXIiLCJsaW5lIiwicG9seWdvbiIsImhleGFnb24iLCJncmlkIiwiY29udG91ciIsInRyaXBzIiwiaDMiLCJ0ZXh0IiwiaWNvbiIsInNjcmVlbkdyaWQiLCJ0ZXJyYWluIiwiYmFzZVN0eWxlIiwib3BhY2l0eSIsImNvbG9yIiwiY29sb3JGaWVsZCIsImNvbG9yU2NhbGUiLCJjb2xvclJhbmdlIiwicmV2ZXJzZUNvbG9yU2NhbGUiLCJyYWRpdXMiLCJsaW5lV2lkdGgiLCJlbGV2YXRpb25TY2FsZSIsImV4dHJ1ZGVkIiwiY2xhc3NpZmljYXRpb25NZXRob2QiLCJjZWxsU2l6ZSIsInJhZGl1c1VuaXRzIiwicmFkaXVzTWluUGl4ZWxzIiwicmFkaXVzTWF4UGl4ZWxzIiwic3Ryb2tlQ29sb3IiLCJzdHJva2VXaWR0aCIsImZpbGxlZCIsInN0cm9rZWQiLCJpbnRlbnNpdHkiLCJ0aHJlc2hvbGQiLCJjb3ZlcmFnZSIsIm1hdGVyaWFsIiwiYW1iaWVudCIsImRpZmZ1c2UiLCJzaGluaW5lc3MiLCJzcGVjdWxhckNvbG9yIiwid2lkdGhVbml0cyIsIndpZHRoU2NhbGUiLCJ3aWR0aE1pblBpeGVscyIsIndpZHRoTWF4UGl4ZWxzIiwidHJhaWxMZW5ndGgiLCJjdXJyZW50VGltZSIsInJvdW5kZWQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./hooks/useLayerManager.js\n");

/***/ })

};
;