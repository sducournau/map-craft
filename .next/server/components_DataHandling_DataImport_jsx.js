/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "components_DataHandling_DataImport_jsx";
exports.ids = ["components_DataHandling_DataImport_jsx"];
exports.modules = {

/***/ "./components/DataHandling/DataImport.jsx":
/*!************************************************!*\
  !*** ./components/DataHandling/DataImport.jsx ***!
  \************************************************/
/***/ (() => {

eval("const handleFileUpload = useCallback(async (event)=>{\n    const file = event.target.files?.[0];\n    if (!file) return;\n    setLoading(true);\n    setError(null);\n    try {\n        // Validate file size\n        if (file.size > 50 * 1024 * 1024) {\n            throw new Error(\"Le fichier est trop volumineux (limite de 50MB)\");\n        }\n        const fileExtension = file.name.split(\".\").pop()?.toLowerCase();\n        // Validate supported file extensions\n        if (![\n            \"geojson\",\n            \"json\",\n            \"csv\",\n            \"gpkg\",\n            \"zip\"\n        ].includes(fileExtension)) {\n            throw new Error(`Format de fichier non supporté: ${fileExtension}. Formats acceptés: GeoJSON, CSV, GeoPackage, Shapefile (ZIP)`);\n        }\n        const reader = new FileReader();\n        // Set up promise-based file reader\n        const readFilePromise = new Promise((resolve, reject)=>{\n            reader.onload = (e)=>resolve(e.target.result);\n            reader.onerror = (e)=>reject(new Error(\"Erreur lors de la lecture du fichier\"));\n        });\n        // Start reading the file\n        if (fileExtension === \"csv\") {\n            reader.readAsText(file);\n        } else {\n            reader.readAsArrayBuffer(file);\n        }\n        // Wait for file to be read\n        const result = await readFilePromise;\n        // Process file based on its type\n        let data;\n        if (fileExtension === \"geojson\" || fileExtension === \"json\") {\n            try {\n                // Handle GeoJSON\n                data = JSON.parse(result);\n                data = formatGeoJson(data);\n                // Basic validation\n                if (!data.type || data.type !== \"FeatureCollection\" || !Array.isArray(data.features)) {\n                    throw new Error(\"Format GeoJSON invalide\");\n                }\n            } catch (parseError) {\n                throw new Error(`Erreur de parsing JSON: ${parseError.message}`);\n            }\n        } else if (fileExtension === \"csv\") {\n            // Handle CSV with custom options if provided\n            try {\n                data = csvToGeoJson(result, dataType === \"auto\" ? {} : customOptions);\n                // Check if any features were created\n                if (!data.features || data.features.length === 0) {\n                    throw new Error(\"Aucune donn\\xe9e g\\xe9ospatiale n'a pu \\xeatre extraite du CSV\");\n                }\n            } catch (csvError) {\n                throw new Error(`Erreur lors de la conversion du CSV: ${csvError.message}`);\n            }\n        } else if (fileExtension === \"gpkg\") {\n            // Handle GeoPackage\n            try {\n                data = await processGeoPackage(file);\n            } catch (gpkgError) {\n                throw new Error(`Erreur lors du traitement du GeoPackage: ${gpkgError.message}`);\n            }\n        } else if (fileExtension === \"zip\") {\n            // Handle Shapefile in ZIP\n            try {\n                data = await processShapefile(result);\n            } catch (shpError) {\n                throw new Error(`Erreur lors du traitement du Shapefile: ${shpError.message}`);\n            }\n        }\n        // Final validation\n        if (!data || !data.features || data.features.length === 0) {\n            throw new Error(\"Aucune donn\\xe9e valide n'a \\xe9t\\xe9 trouv\\xe9e dans le fichier\");\n        }\n        onDataImported(data);\n        if (onClose) onClose();\n    } catch (err) {\n        console.error(\"Error processing file:\", err);\n        setError(`Erreur: ${err.message}`);\n    } finally{\n        setLoading(false);\n    }\n}, [\n    onDataImported,\n    onClose,\n    dataType,\n    customOptions\n]);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tYXBjcmFmdC8uL2NvbXBvbmVudHMvRGF0YUhhbmRsaW5nL0RhdGFJbXBvcnQuanN4P2I1ODkiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgaGFuZGxlRmlsZVVwbG9hZCA9IHVzZUNhbGxiYWNrKGFzeW5jIChldmVudCkgPT4ge1xyXG4gIGNvbnN0IGZpbGUgPSBldmVudC50YXJnZXQuZmlsZXM/LlswXTtcclxuICBpZiAoIWZpbGUpIHJldHVybjtcclxuXHJcbiAgc2V0TG9hZGluZyh0cnVlKTtcclxuICBzZXRFcnJvcihudWxsKTtcclxuXHJcbiAgdHJ5IHtcclxuICAgIC8vIFZhbGlkYXRlIGZpbGUgc2l6ZVxyXG4gICAgaWYgKGZpbGUuc2l6ZSA+IDUwICogMTAyNCAqIDEwMjQpIHsgLy8gNTBNQiBsaW1pdFxyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0xlIGZpY2hpZXIgZXN0IHRyb3Agdm9sdW1pbmV1eCAobGltaXRlIGRlIDUwTUIpJyk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgZmlsZUV4dGVuc2lvbiA9IGZpbGUubmFtZS5zcGxpdCgnLicpLnBvcCgpPy50b0xvd2VyQ2FzZSgpO1xyXG4gICAgXHJcbiAgICAvLyBWYWxpZGF0ZSBzdXBwb3J0ZWQgZmlsZSBleHRlbnNpb25zXHJcbiAgICBpZiAoIVsnZ2VvanNvbicsICdqc29uJywgJ2NzdicsICdncGtnJywgJ3ppcCddLmluY2x1ZGVzKGZpbGVFeHRlbnNpb24pKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihgRm9ybWF0IGRlIGZpY2hpZXIgbm9uIHN1cHBvcnTDqTogJHtmaWxlRXh0ZW5zaW9ufS4gRm9ybWF0cyBhY2NlcHTDqXM6IEdlb0pTT04sIENTViwgR2VvUGFja2FnZSwgU2hhcGVmaWxlIChaSVApYCk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcclxuXHJcbiAgICAvLyBTZXQgdXAgcHJvbWlzZS1iYXNlZCBmaWxlIHJlYWRlclxyXG4gICAgY29uc3QgcmVhZEZpbGVQcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICByZWFkZXIub25sb2FkID0gKGUpID0+IHJlc29sdmUoZS50YXJnZXQucmVzdWx0KTtcclxuICAgICAgcmVhZGVyLm9uZXJyb3IgPSAoZSkgPT4gcmVqZWN0KG5ldyBFcnJvcignRXJyZXVyIGxvcnMgZGUgbGEgbGVjdHVyZSBkdSBmaWNoaWVyJykpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gU3RhcnQgcmVhZGluZyB0aGUgZmlsZVxyXG4gICAgaWYgKGZpbGVFeHRlbnNpb24gPT09ICdjc3YnKSB7XHJcbiAgICAgIHJlYWRlci5yZWFkQXNUZXh0KGZpbGUpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmVhZGVyLnJlYWRBc0FycmF5QnVmZmVyKGZpbGUpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFdhaXQgZm9yIGZpbGUgdG8gYmUgcmVhZFxyXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVhZEZpbGVQcm9taXNlO1xyXG5cclxuICAgIC8vIFByb2Nlc3MgZmlsZSBiYXNlZCBvbiBpdHMgdHlwZVxyXG4gICAgbGV0IGRhdGE7XHJcbiAgICBpZiAoZmlsZUV4dGVuc2lvbiA9PT0gJ2dlb2pzb24nIHx8IGZpbGVFeHRlbnNpb24gPT09ICdqc29uJykge1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIC8vIEhhbmRsZSBHZW9KU09OXHJcbiAgICAgICAgZGF0YSA9IEpTT04ucGFyc2UocmVzdWx0KTtcclxuICAgICAgICBkYXRhID0gZm9ybWF0R2VvSnNvbihkYXRhKTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBCYXNpYyB2YWxpZGF0aW9uXHJcbiAgICAgICAgaWYgKCFkYXRhLnR5cGUgfHwgZGF0YS50eXBlICE9PSAnRmVhdHVyZUNvbGxlY3Rpb24nIHx8ICFBcnJheS5pc0FycmF5KGRhdGEuZmVhdHVyZXMpKSB7XHJcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Zvcm1hdCBHZW9KU09OIGludmFsaWRlJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGNhdGNoIChwYXJzZUVycm9yKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBFcnJldXIgZGUgcGFyc2luZyBKU09OOiAke3BhcnNlRXJyb3IubWVzc2FnZX1gKTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIGlmIChmaWxlRXh0ZW5zaW9uID09PSAnY3N2Jykge1xyXG4gICAgICAvLyBIYW5kbGUgQ1NWIHdpdGggY3VzdG9tIG9wdGlvbnMgaWYgcHJvdmlkZWRcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBkYXRhID0gY3N2VG9HZW9Kc29uKHJlc3VsdCwgZGF0YVR5cGUgPT09ICdhdXRvJyA/IHt9IDogY3VzdG9tT3B0aW9ucyk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gQ2hlY2sgaWYgYW55IGZlYXR1cmVzIHdlcmUgY3JlYXRlZFxyXG4gICAgICAgIGlmICghZGF0YS5mZWF0dXJlcyB8fCBkYXRhLmZlYXR1cmVzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdBdWN1bmUgZG9ubsOpZSBnw6lvc3BhdGlhbGUgblxcJ2EgcHUgw6p0cmUgZXh0cmFpdGUgZHUgQ1NWJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGNhdGNoIChjc3ZFcnJvcikge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgRXJyZXVyIGxvcnMgZGUgbGEgY29udmVyc2lvbiBkdSBDU1Y6ICR7Y3N2RXJyb3IubWVzc2FnZX1gKTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIGlmIChmaWxlRXh0ZW5zaW9uID09PSAnZ3BrZycpIHtcclxuICAgICAgLy8gSGFuZGxlIEdlb1BhY2thZ2VcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBkYXRhID0gYXdhaXQgcHJvY2Vzc0dlb1BhY2thZ2UoZmlsZSk7XHJcbiAgICAgIH0gY2F0Y2ggKGdwa2dFcnJvcikge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgRXJyZXVyIGxvcnMgZHUgdHJhaXRlbWVudCBkdSBHZW9QYWNrYWdlOiAke2dwa2dFcnJvci5tZXNzYWdlfWApO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2UgaWYgKGZpbGVFeHRlbnNpb24gPT09ICd6aXAnKSB7XHJcbiAgICAgIC8vIEhhbmRsZSBTaGFwZWZpbGUgaW4gWklQXHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgZGF0YSA9IGF3YWl0IHByb2Nlc3NTaGFwZWZpbGUocmVzdWx0KTtcclxuICAgICAgfSBjYXRjaCAoc2hwRXJyb3IpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEVycmV1ciBsb3JzIGR1IHRyYWl0ZW1lbnQgZHUgU2hhcGVmaWxlOiAke3NocEVycm9yLm1lc3NhZ2V9YCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBGaW5hbCB2YWxpZGF0aW9uXHJcbiAgICBpZiAoIWRhdGEgfHwgIWRhdGEuZmVhdHVyZXMgfHwgZGF0YS5mZWF0dXJlcy5sZW5ndGggPT09IDApIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdBdWN1bmUgZG9ubsOpZSB2YWxpZGUgblxcJ2Egw6l0w6kgdHJvdXbDqWUgZGFucyBsZSBmaWNoaWVyJyk7XHJcbiAgICB9XHJcblxyXG4gICAgb25EYXRhSW1wb3J0ZWQoZGF0YSk7XHJcbiAgICBpZiAob25DbG9zZSkgb25DbG9zZSgpO1xyXG4gIH0gY2F0Y2ggKGVycikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgcHJvY2Vzc2luZyBmaWxlOicsIGVycik7XHJcbiAgICBzZXRFcnJvcihgRXJyZXVyOiAke2Vyci5tZXNzYWdlfWApO1xyXG4gIH0gZmluYWxseSB7XHJcbiAgICBzZXRMb2FkaW5nKGZhbHNlKTtcclxuICB9XHJcbn0sIFtvbkRhdGFJbXBvcnRlZCwgb25DbG9zZSwgZGF0YVR5cGUsIGN1c3RvbU9wdGlvbnNdKTsiXSwibmFtZXMiOlsiaGFuZGxlRmlsZVVwbG9hZCIsInVzZUNhbGxiYWNrIiwiZXZlbnQiLCJmaWxlIiwidGFyZ2V0IiwiZmlsZXMiLCJzZXRMb2FkaW5nIiwic2V0RXJyb3IiLCJzaXplIiwiRXJyb3IiLCJmaWxlRXh0ZW5zaW9uIiwibmFtZSIsInNwbGl0IiwicG9wIiwidG9Mb3dlckNhc2UiLCJpbmNsdWRlcyIsInJlYWRlciIsIkZpbGVSZWFkZXIiLCJyZWFkRmlsZVByb21pc2UiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsIm9ubG9hZCIsImUiLCJyZXN1bHQiLCJvbmVycm9yIiwicmVhZEFzVGV4dCIsInJlYWRBc0FycmF5QnVmZmVyIiwiZGF0YSIsIkpTT04iLCJwYXJzZSIsImZvcm1hdEdlb0pzb24iLCJ0eXBlIiwiQXJyYXkiLCJpc0FycmF5IiwiZmVhdHVyZXMiLCJwYXJzZUVycm9yIiwibWVzc2FnZSIsImNzdlRvR2VvSnNvbiIsImRhdGFUeXBlIiwiY3VzdG9tT3B0aW9ucyIsImxlbmd0aCIsImNzdkVycm9yIiwicHJvY2Vzc0dlb1BhY2thZ2UiLCJncGtnRXJyb3IiLCJwcm9jZXNzU2hhcGVmaWxlIiwic2hwRXJyb3IiLCJvbkRhdGFJbXBvcnRlZCIsIm9uQ2xvc2UiLCJlcnIiLCJjb25zb2xlIiwiZXJyb3IiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLG1CQUFtQkMsWUFBWSxPQUFPQztJQUMxQyxNQUFNQyxPQUFPRCxNQUFNRSxNQUFNLENBQUNDLEtBQUssRUFBRSxDQUFDLEVBQUU7SUFDcEMsSUFBSSxDQUFDRixNQUFNO0lBRVhHLFdBQVc7SUFDWEMsU0FBUztJQUVULElBQUk7UUFDRixxQkFBcUI7UUFDckIsSUFBSUosS0FBS0ssSUFBSSxHQUFHLEtBQUssT0FBTyxNQUFNO1lBQ2hDLE1BQU0sSUFBSUMsTUFBTTtRQUNsQjtRQUVBLE1BQU1DLGdCQUFnQlAsS0FBS1EsSUFBSSxDQUFDQyxLQUFLLENBQUMsS0FBS0MsR0FBRyxJQUFJQztRQUVsRCxxQ0FBcUM7UUFDckMsSUFBSSxDQUFDO1lBQUM7WUFBVztZQUFRO1lBQU87WUFBUTtTQUFNLENBQUNDLFFBQVEsQ0FBQ0wsZ0JBQWdCO1lBQ3RFLE1BQU0sSUFBSUQsTUFBTSxDQUFDLGdDQUFnQyxFQUFFQyxjQUFjLDZEQUE2RCxDQUFDO1FBQ2pJO1FBRUEsTUFBTU0sU0FBUyxJQUFJQztRQUVuQixtQ0FBbUM7UUFDbkMsTUFBTUMsa0JBQWtCLElBQUlDLFFBQVEsQ0FBQ0MsU0FBU0M7WUFDNUNMLE9BQU9NLE1BQU0sR0FBRyxDQUFDQyxJQUFNSCxRQUFRRyxFQUFFbkIsTUFBTSxDQUFDb0IsTUFBTTtZQUM5Q1IsT0FBT1MsT0FBTyxHQUFHLENBQUNGLElBQU1GLE9BQU8sSUFBSVosTUFBTTtRQUMzQztRQUVBLHlCQUF5QjtRQUN6QixJQUFJQyxrQkFBa0IsT0FBTztZQUMzQk0sT0FBT1UsVUFBVSxDQUFDdkI7UUFDcEIsT0FBTztZQUNMYSxPQUFPVyxpQkFBaUIsQ0FBQ3hCO1FBQzNCO1FBRUEsMkJBQTJCO1FBQzNCLE1BQU1xQixTQUFTLE1BQU1OO1FBRXJCLGlDQUFpQztRQUNqQyxJQUFJVTtRQUNKLElBQUlsQixrQkFBa0IsYUFBYUEsa0JBQWtCLFFBQVE7WUFDM0QsSUFBSTtnQkFDRixpQkFBaUI7Z0JBQ2pCa0IsT0FBT0MsS0FBS0MsS0FBSyxDQUFDTjtnQkFDbEJJLE9BQU9HLGNBQWNIO2dCQUVyQixtQkFBbUI7Z0JBQ25CLElBQUksQ0FBQ0EsS0FBS0ksSUFBSSxJQUFJSixLQUFLSSxJQUFJLEtBQUssdUJBQXVCLENBQUNDLE1BQU1DLE9BQU8sQ0FBQ04sS0FBS08sUUFBUSxHQUFHO29CQUNwRixNQUFNLElBQUkxQixNQUFNO2dCQUNsQjtZQUNGLEVBQUUsT0FBTzJCLFlBQVk7Z0JBQ25CLE1BQU0sSUFBSTNCLE1BQU0sQ0FBQyx3QkFBd0IsRUFBRTJCLFdBQVdDLE9BQU8sQ0FBQyxDQUFDO1lBQ2pFO1FBQ0YsT0FBTyxJQUFJM0Isa0JBQWtCLE9BQU87WUFDbEMsNkNBQTZDO1lBQzdDLElBQUk7Z0JBQ0ZrQixPQUFPVSxhQUFhZCxRQUFRZSxhQUFhLFNBQVMsQ0FBQyxJQUFJQztnQkFFdkQscUNBQXFDO2dCQUNyQyxJQUFJLENBQUNaLEtBQUtPLFFBQVEsSUFBSVAsS0FBS08sUUFBUSxDQUFDTSxNQUFNLEtBQUssR0FBRztvQkFDaEQsTUFBTSxJQUFJaEMsTUFBTTtnQkFDbEI7WUFDRixFQUFFLE9BQU9pQyxVQUFVO2dCQUNqQixNQUFNLElBQUlqQyxNQUFNLENBQUMscUNBQXFDLEVBQUVpQyxTQUFTTCxPQUFPLENBQUMsQ0FBQztZQUM1RTtRQUNGLE9BQU8sSUFBSTNCLGtCQUFrQixRQUFRO1lBQ25DLG9CQUFvQjtZQUNwQixJQUFJO2dCQUNGa0IsT0FBTyxNQUFNZSxrQkFBa0J4QztZQUNqQyxFQUFFLE9BQU95QyxXQUFXO2dCQUNsQixNQUFNLElBQUluQyxNQUFNLENBQUMseUNBQXlDLEVBQUVtQyxVQUFVUCxPQUFPLENBQUMsQ0FBQztZQUNqRjtRQUNGLE9BQU8sSUFBSTNCLGtCQUFrQixPQUFPO1lBQ2xDLDBCQUEwQjtZQUMxQixJQUFJO2dCQUNGa0IsT0FBTyxNQUFNaUIsaUJBQWlCckI7WUFDaEMsRUFBRSxPQUFPc0IsVUFBVTtnQkFDakIsTUFBTSxJQUFJckMsTUFBTSxDQUFDLHdDQUF3QyxFQUFFcUMsU0FBU1QsT0FBTyxDQUFDLENBQUM7WUFDL0U7UUFDRjtRQUVBLG1CQUFtQjtRQUNuQixJQUFJLENBQUNULFFBQVEsQ0FBQ0EsS0FBS08sUUFBUSxJQUFJUCxLQUFLTyxRQUFRLENBQUNNLE1BQU0sS0FBSyxHQUFHO1lBQ3pELE1BQU0sSUFBSWhDLE1BQU07UUFDbEI7UUFFQXNDLGVBQWVuQjtRQUNmLElBQUlvQixTQUFTQTtJQUNmLEVBQUUsT0FBT0MsS0FBSztRQUNaQyxRQUFRQyxLQUFLLENBQUMsMEJBQTBCRjtRQUN4QzFDLFNBQVMsQ0FBQyxRQUFRLEVBQUUwQyxJQUFJWixPQUFPLENBQUMsQ0FBQztJQUNuQyxTQUFVO1FBQ1IvQixXQUFXO0lBQ2I7QUFDRixHQUFHO0lBQUN5QztJQUFnQkM7SUFBU1Q7SUFBVUM7Q0FBYyIsImZpbGUiOiIuL2NvbXBvbmVudHMvRGF0YUhhbmRsaW5nL0RhdGFJbXBvcnQuanN4Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./components/DataHandling/DataImport.jsx\n");

/***/ })

};
;